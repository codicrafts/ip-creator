(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,68928,8139,e=>{"use strict";var t=e.i(57475);let a=(0,t.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);e.s(["ImageIcon",()=>a],68928);let r=(0,t.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>r],8139)},56856,e=>{"use strict";let t="ip_creative_source_image",a="ip_creative_source_image_mime_type";e.s(["loadSourceImage",0,()=>{try{let e=localStorage.getItem(t),r=localStorage.getItem(a);if(e&&r)return{image:e,mimeType:r}}catch(e){console.error("Failed to load source image from localStorage:",e)}return null},"saveSourceImage",0,(e,r)=>{try{localStorage.setItem(t,e),localStorage.setItem(a,r)}catch(s){console.error("Failed to save source image to localStorage:",s);try{localStorage.removeItem(t),localStorage.removeItem(a),localStorage.setItem(t,e),localStorage.setItem(a,r)}catch(e){console.error("Failed to save source image after cleanup:",e)}}}])},27718,e=>{"use strict";let t=(0,e.i(57475).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>t],27718)},65989,e=>{"use strict";let t=(0,e.i(57475).default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);e.s(["RefreshCcw",()=>t],65989)},98844,e=>{"use strict";let t=(0,e.i(57475).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],98844)},92686,e=>{"use strict";let t=(0,e.i(57475).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);e.s(["Sparkles",()=>t],92686)},84428,e=>{"use strict";var t=e.i(1972),a=e.i(83832),r=e.i(68163);let s=(0,e.i(57475).default)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]);var i=e.i(18486),l=e.i(11854);e.s(["default",0,({isOpen:e,onClose:o,onLogin:n,onUpgrade:c,userStatus:d,remainingQuota:m,limit:g,type:p})=>{if(!e)return null;let u="scene"===p?"åœºæ™¯æ‰©å±•":"è¡¨æƒ…åŒ…åˆ¶ä½œ";return(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:(0,t.jsx)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md mx-4 overflow-hidden animate-in zoom-in-95 duration-200",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",children:(0,t.jsx)(r.Zap,{size:24,className:"text-red-600"})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"é¢åº¦ä¸è¶³"})]}),(0,t.jsx)("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,t.jsx)(a.X,{size:20,className:"text-gray-500"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"bg-gray-50 rounded-2xl p-4",children:(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["å‰©ä½™ ",u," é¢åº¦"]}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:[m," ",(0,t.jsxs)("span",{className:"text-lg text-gray-500",children:["/ ",g]})]})]})}),(0,t.jsx)("div",{className:"space-y-3",children:d===l.UserStatus.GUEST?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-gray-700 text-center",children:"æ¸¸å®¢ä½“éªŒæ¬¡æ•°å·²ç”¨å®Œï¼"}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 text-center",children:["ç™»å½•åŽå¯èŽ·å¾—æ¯æ—¥ 5 æ¬¡ ",u," é¢åº¦"]}),(0,t.jsxs)("button",{onClick:()=>{o(),n?.()},className:"w-full py-3 rounded-xl font-semibold bg-violet-600 text-white hover:bg-violet-700 transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(s,{size:18}),"ç«‹å³ç™»å½•"]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{className:"text-gray-700 text-center",children:[u,"é¢åº¦ä¸è¶³ï¼"]}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 text-center",children:["å‡çº§ä¼šå‘˜å¯èŽ·å–æ¯æ—¥ 50 æ¬¡ ",u," é¢åº¦"]}),(0,t.jsxs)("button",{onClick:()=>{o(),c?.()},className:"w-full py-3 rounded-xl font-semibold bg-amber-400 text-amber-900 hover:bg-amber-300 transition-colors flex items-center justify-center gap-2 shadow-lg shadow-amber-900/20",children:[(0,t.jsx)(i.Crown,{size:18}),"å‡çº§ä¼šå‘˜"]})]})})]})]})})})}],84428)},12856,3483,e=>{"use strict";let t="/api/gemini/generate",a=async(e,t=1024,a=1024)=>new Promise(r=>{let s=new Image;s.src=e,s.onload=()=>{let i=s.width,l=s.height;if(i<=t&&l<=a)return void r(e);i>l?i>t&&(l=Math.round(l*=t/i),i=t):l>a&&(i=Math.round(i*=a/l),l=a);let o=document.createElement("canvas");o.width=i,o.height=l;let n=o.getContext("2d");n?.drawImage(s,0,0,i,l),r(o.toDataURL("image/jpeg",.9))},s.onerror=()=>r(e)}),r=async(e,r,s,i,l,o)=>{try{let r=await a(e),n="image/jpeg";e.startsWith("data:image/png")?n="image/png":e.startsWith("data:image/webp")?n="image/webp":(e.startsWith("data:image/jpeg")||e.startsWith("data:image/jpg"))&&(n="image/jpeg");let c=r.replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"");if(!c||0===c.length)throw Error("Invalid base64 image data");let d={responseModalities:["IMAGE"]};(i||l||o)&&(d.imageConfig={},i&&(d.imageConfig.aspectRatio=i),o&&(d.imageConfig.outputFormat=o.toLowerCase()));let m={contents:[{parts:[{inlineData:{data:c,mimeType:n}},{text:s}]}],generationConfig:d},g=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!g.ok){let e=`API request failed: ${g.status} ${g.statusText}`;try{let t=await g.json();if(console.error("Gemini API Error:",t),console.error("Request generationConfig:",JSON.stringify(d,null,2)),t.error){let a=t.error;e=a.message||a.localized_message||JSON.stringify(a)||e}else e=JSON.stringify(t)||e}catch(a){let t=await g.text();console.error("Gemini API Error (text):",t),e=t||e}throw Error(e)}let p=await g.json(),u=p.candidates?.[0]?.content?.parts;if(!u)throw Error("No content generated");for(let e of u)if(e.inlineData&&e.inlineData.data){let t=e.inlineData.mimeType||"image/png";return`data:${t};base64,${e.inlineData.data}`}throw Error("No image data found in the response")}catch(e){throw console.error("Gemini API Error:",e),e}},s=async(e,r)=>{try{let s=(await a(e)).replace(/^data:image\/(png|jpeg|webp);base64,/,""),i=`Turn the main character in this image into a high-quality die-cut sticker. 
    Style: Vector art, flat color, thick white outline, white background. 
    Expression/Action: ${r}. 
    Ensure the character is isolated on a pure white background. 
    Do not add text inside the image.`,l={contents:[{parts:[{inlineData:{data:s,mimeType:"image/jpeg"}},{text:i}]}],generationConfig:{responseModalities:["IMAGE"]}},o=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!o.ok){let e;try{let t=await o.json();e=t.error||t.details||JSON.stringify(t)}catch{e=`API request failed: ${o.status} ${o.statusText}`}throw Error(e)}let n=await o.json(),c=n.candidates?.[0]?.content?.parts;if(!c)throw Error("No content generated");for(let e of c)if(e.inlineData&&e.inlineData.data){let t=e.inlineData.mimeType||"image/png";return`data:${t};base64,${e.inlineData.data}`}throw Error("No image data found")}catch(e){throw console.error("Sticker Generation Error:",e),e}};e.s(["generateExtendedScene",0,r,"generateSticker",0,s],12856);var i=e.i(1972),l=e.i(68946);let o=(0,e.i(57475).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var n=e.i(65989),c=e.i(64807);let d=[{id:c.AnimationType.NONE,label:"é™æ€",icon:(0,i.jsx)(l.Square,{size:14})},{id:c.AnimationType.SHAKE,label:"é¢¤æŠ–",icon:(0,i.jsx)(o,{size:14})},{id:c.AnimationType.PULSE,label:"è„‰å†²",icon:(0,i.jsx)("div",{className:"w-3 h-3 rounded-full border-2 border-current"})},{id:c.AnimationType.ZOOM,label:"æ”¾å¤§",icon:(0,i.jsx)("div",{className:"text-xs",children:"ðŸ”"})},{id:c.AnimationType.SPIN,label:"æ—‹è½¬",icon:(0,i.jsx)(n.RefreshCcw,{size:14})}];e.s(["ANIMATION_OPTIONS",0,d,"MOOD_PACKS",0,[{id:"custom",label:"è‡ªå®šä¹‰",items:[]},{id:"worker",label:"æ‰“å·¥äºº",items:[{text:"æ”¶åˆ°",prompt:"æ•¬ç¤¼ï¼Œçœ¼ç¥žåšå®šï¼Œæˆ´ç€é¢†å¸¦ï¼ŒèŒä¸šæ„Ÿ"},{text:"ä¸‹ç­",prompt:"é£žå¿«åœ°é€ƒè·‘ï¼Œå¼€å¿ƒï¼Œæ¨¡ç³Šçš„èƒŒæ™¯"},{text:"å¤ªéš¾äº†",prompt:"èººåœ¨åœ°ä¸Šï¼Œç²¾ç–²åŠ›å°½ï¼Œæµç€å¤¸å¼ çš„çœ¼æ³ª"},{text:"æ‘¸é±¼",prompt:"å–ç€å’–å•¡ï¼Œæˆ´ç€å¢¨é•œï¼Œæ‚ é—²æ”¾æ¾"}]},{id:"daily",label:"æ—¥å¸¸",items:[{text:"æ—©ä¸Šå¥½",prompt:"æŒ¥æ‰‹ï¼Œå¼€å¿ƒå¤§ç¬‘ï¼Œé˜³å…‰èƒŒæ™¯"},{text:"æ™šå®‰",prompt:"ç¡è§‰ï¼Œæˆ´ç€ç¡å¸½ï¼Œå®‰è¯¦"},{text:"è°¢è°¢",prompt:"éž èº¬ï¼ŒåŒæ‰‹æ¯”å¿ƒï¼Œæ„Ÿæ¿€"},{text:"ï¼Ÿ",prompt:"å›°æƒ‘çš„è¡¨æƒ…ï¼Œæ»¡å¤´é—®å·"}]}],"PRESET_STYLES",0,[{id:"realistic",label:"å†™å®žæ‘„å½±",value:"photorealistic, 8k, highly detailed, cinematic lighting, realistic textures"},{id:"anime",label:"æ—¥ç³»åŠ¨æ¼«",value:"anime style, studio ghibli, vibrant colors, cel shading, detailed background"},{id:"watercolor",label:"æ¸…æ–°æ°´å½©",value:"watercolor painting, soft edges, artistic, pastel colors, dreamy atmosphere"},{id:"cyberpunk",label:"èµ›åšæœ‹å…‹",value:"cyberpunk, neon lights, futuristic city, high contrast, tech noir"},{id:"3d",label:"3D æ¸²æŸ“",value:"3D render, blender, unreal engine 5, c4d, clay material, soft lighting"},{id:"illustration",label:"æ‰å¹³æ’ç”»",value:"flat illustration, vector art, minimal, clean lines, bold colors"},{id:"oil",label:"æ²¹ç”»é£Žæ ¼",value:"oil painting, textured brushstrokes, classical art style, van gogh style"},{id:"pixel",label:"åƒç´ è‰ºæœ¯",value:"pixel art, 8-bit, retro game style, blocky"}]],3483)},85174,e=>{"use strict";var t=e.i(1972),a=e.i(30499),r=e.i(27718),s=e.i(92686);let i=(0,e.i(57475).default)("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);var l=e.i(68928),o=e.i(8139),n=e.i(68163),c=e.i(24569),d=e.i(8684),m=e.i(93019),g=e.i(64807),p=e.i(11854),u=e.i(82935),x=e.i(24417),h=e.i(39382),y=e.i(84428),f=e.i(12856),b=e.i(3483),v=e.i(56856),j=e.i(6113),S=e.i(75305);function w(){let e=(0,a.useRouter)(),w=(0,c.useAppDispatch)(),N=(0,c.useAppSelector)(e=>e.image.sourceImage),k=(0,c.useAppSelector)(e=>e.image.mimeType),I=(0,c.useAppSelector)(e=>e.image.prompt),E=(0,c.useAppSelector)(e=>e.image.selectedStyle),T=(0,c.useAppSelector)(e=>e.image.aspectRatio);(0,c.useAppSelector)(e=>e.image.imageSize),(0,c.useAppSelector)(e=>e.image.imageFormat),(0,c.useAppSelector)(e=>e.app.loadingState),(0,c.useAppSelector)(e=>e.app.errorMsg);let A=(0,c.useAppSelector)(e=>e.user.status),C=(0,c.useAppSelector)(e=>e.user.userId),M=(0,c.useAppSelector)(e=>e.user.userTier),O=(0,c.useAppSelector)(e=>e.user.sceneUsage),z=(0,c.useAppSelector)(e=>e.app.isPaymentModalOpen),P=(0,c.useAppSelector)(e=>e.app.isQuotaModalOpen),D=(0,S.useRef)(!1);(0,S.useEffect)(()=>{if(!D.current&&(D.current=!0,!N)){let e=(0,v.loadSourceImage)();e&&w((0,d.setSourceImage)({image:e.image,mimeType:e.mimeType}))}},[N,w]),(0,S.useEffect)(()=>{N&&(0,v.saveSourceImage)(N,k)},[N,k]);let L=()=>"PREMIUM"===M?50:"LOGGED_IN"===A?5:1,R=()=>{let e=(0,j.getTodayDateString)();return(0,j.normalizeDateString)(O.date)===e&&O.count>=L()},U=()=>{let e=(0,j.getTodayDateString)();return(0,j.normalizeDateString)(O.date)!==e?L():Math.max(0,L()-O.count)},$=async()=>{if(R())return void w((0,m.setIsQuotaModalOpen)(!0));if(N&&I){w((0,m.setLoadingState)(g.LoadingState.GENERATING)),e.push("/result");try{let e=I,t="";if(E){let a=b.PRESET_STYLES.find(e=>e.id===E);a&&(t=a.label,e=`${I}. Style modifiers: ${a.value}`)}let a=await (0,f.generateExtendedScene)(N,k,e,T);if(w((0,p.updateSceneUsage)(1)),"LOGGED_IN"===A&&C)try{let e=await (0,u.updateSceneUsage)(C,1);w((0,p.setSceneUsage)(e))}catch(e){console.error("Failed to sync scene usage to backend:",e)}let r=await (0,x.saveHistory)("scene",a,I,t);if(r){let e={id:r.id,url:r.url,timestamp:r.timestamp,prompt:r.prompt,style:r.style};w((0,d.addToHistory)(e))}w((0,d.setResultImage)(a)),w((0,m.setLoadingState)(g.LoadingState.SUCCESS))}catch(e){console.error(e),w((0,m.setLoadingState)(g.LoadingState.ERROR))}}},_=R();return(0,t.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-50 pb-24 md:pt-16",children:[(0,t.jsxs)("header",{className:"bg-white px-4 md:hidden py-3 sticky top-0 z-10 shadow-sm border-b border-gray-100 flex items-center gap-4",children:[(0,t.jsx)("button",{onClick:()=>e.push("/create"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,t.jsx)(r.ChevronLeft,{size:24,className:"text-gray-600"})}),(0,t.jsx)("h2",{className:"font-bold text-lg text-gray-800",children:"åˆ›æ„å·¥åŠ"}),(0,t.jsx)("div",{className:"ml-auto",children:(0,t.jsxs)("div",{className:`flex items-center gap-1 text-xs font-medium px-2 py-1 rounded-full border ${_?"bg-red-50 text-red-500 border-red-100":"bg-violet-50 text-violet-600 border-violet-100"}`,children:[(0,t.jsx)(n.Zap,{size:12,fill:"currentColor"}),U()," / ",L()]})})]}),(0,t.jsxs)("div",{className:"flex-1 p-6 md:p-12 space-y-6 overflow-y-auto max-w-6xl mx-auto w-full",children:[(0,t.jsx)("div",{className:"hidden md:flex items-center justify-end mb-2",children:(0,t.jsxs)("div",{className:`flex items-center gap-2 text-sm font-medium px-4 py-2 rounded-full border ${_?"bg-red-50 text-red-600 border-red-200":"bg-violet-50 text-violet-700 border-violet-200"}`,children:[(0,t.jsx)(n.Zap,{size:16,fill:"currentColor"}),(0,t.jsxs)("span",{className:"font-semibold",children:[U()," / ",L()]})]})}),(0,t.jsxs)("div",{className:"md:grid md:grid-cols-2 md:gap-8 md:items-start",children:[(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)("div",{className:"bg-white p-2 rounded-2xl shadow-sm border border-gray-100",children:N&&(0,t.jsx)("img",{src:N,alt:"Preview",className:"w-full h-48 md:h-64 object-contain bg-gray-100 rounded-xl"})})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"text-sm font-semibold text-gray-800 ml-1 flex items-center gap-2",children:[(0,t.jsx)(s.Sparkles,{size:16,className:"text-violet-500"}),"ä½ æƒ³å¦‚ä½•æ‰©å±•è¿™ä¸ªåœºæ™¯ï¼Ÿ"]}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("textarea",{value:I,onChange:e=>w((0,d.setPrompt)(e.target.value)),placeholder:"ä¾‹å¦‚ï¼šè®©è¿™åªçŒ«å’ªååœ¨å……æ»¡æœªæ¥æ„Ÿçš„éœ“è™¹åŸŽå¸‚è¡—é“ä¸Šï¼Œä¸‹ç€å°é›¨...",className:"w-full p-4 md:p-6 pb-12 rounded-2xl border border-gray-200 bg-white focus:ring-2 focus:ring-violet-500 focus:border-transparent outline-none resize-none text-gray-700 shadow-sm h-32 md:h-40 text-sm md:text-base leading-relaxed"})})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"text-sm font-semibold text-gray-800 ml-1 flex items-center gap-2",children:[(0,t.jsx)(i,{size:16,className:"text-violet-500"}),"è‰ºæœ¯é£Žæ ¼"]}),(0,t.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-3",children:b.PRESET_STYLES.map(e=>{let a=E===e.id;return(0,t.jsxs)("button",{onClick:()=>w((0,d.setSelectedStyle)(a?null:e.id)),className:`
                        relative px-2 py-3 rounded-xl text-xs md:text-sm font-medium transition-all duration-200 border
                        flex flex-col items-center justify-center gap-1 overflow-hidden
                        ${a?"bg-violet-50 border-violet-500 text-violet-700 shadow-sm ring-1 ring-violet-200":"bg-white border-gray-200 text-gray-600 hover:border-violet-200 hover:bg-gray-50"}
                      `,children:[a&&(0,t.jsx)("div",{className:"absolute top-1 right-1",children:(0,t.jsx)(o.Check,{size:12,className:"text-violet-600"})}),(0,t.jsx)("span",{children:e.label})]},e.id)})})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("label",{className:"text-sm font-semibold text-gray-800 ml-1 flex items-center gap-2",children:[(0,t.jsx)(l.ImageIcon,{size:16,className:"text-violet-500"}),"å›¾ç‰‡æ¯”ä¾‹"]}),(0,t.jsx)("div",{className:"grid grid-cols-5 gap-2",children:["1:1","16:9","9:16","4:3","3:4","21:9","3:2","2:3","5:4","4:5"].map(e=>(0,t.jsx)("button",{onClick:()=>w((0,d.setAspectRatio)(e)),className:`
                      px-3 py-2 rounded-xl text-xs font-medium transition-all border
                      ${T===e?"bg-violet-50 border-violet-500 text-violet-700 shadow-sm ring-1 ring-violet-200":"bg-white border-gray-200 text-gray-600 hover:border-violet-200 hover:bg-gray-50"}
                    `,children:e},e))})]})]})]})]}),(0,t.jsxs)("div",{className:"px-6 md:px-12 pb-4 pt-2 bg-gradient-to-t from-gray-50 to-transparent max-w-6xl mx-auto w-full",children:[(0,t.jsx)("button",{onClick:$,disabled:!I.trim()||_,className:`w-full py-4 rounded-2xl font-semibold shadow-lg flex items-center justify-center gap-2 transition-all active:scale-95
            ${!I.trim()||_?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-violet-600 text-white shadow-violet-200 hover:bg-violet-700"}`,children:_?(0,t.jsx)("span",{children:"ä»Šæ—¥é¢åº¦å·²ç”¨å®Œ"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Sparkles,{size:18}),"ç«‹å³ç”Ÿæˆ"]})}),_&&(0,t.jsx)("p",{onClick:()=>e.push("/profile"),className:"text-center text-xs text-violet-600 mt-2 cursor-pointer hover:underline",children:"å‡çº§ä¼šå‘˜èŽ·å–æ›´å¤šé¢åº¦ â†’"})]}),(0,t.jsx)(h.default,{isOpen:z,onClose:()=>w((0,m.setIsPaymentModalOpen)(!1)),onSuccess:()=>{w((0,p.setUserTier)(g.UserTier.PREMIUM)),w((0,m.setIsPaymentModalOpen)(!1))},amount:29.9,productName:"IP åˆ›æƒ³åŠä¼šå‘˜",productDesc:"è§£é”æ¯æ—¥ 50 æ¬¡åœºæ™¯æ‰©å±•å’Œ 50 æ¬¡è¡¨æƒ…åŒ…åˆ¶ä½œé¢åº¦"}),(0,t.jsx)(y.default,{isOpen:P,onClose:()=>w((0,m.setIsQuotaModalOpen)(!1)),onLogin:()=>e.push("/login"),onUpgrade:()=>w((0,m.setIsPaymentModalOpen)(!0)),userStatus:A,remainingQuota:U(),limit:L(),type:"scene"})]})}e.s(["default",()=>w],85174)},39761,e=>{e.v(e=>Promise.resolve().then(()=>e(54558)))}]);