(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,27718,e=>{"use strict";let t=(0,e.i(57475).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>t],27718)},92686,e=>{"use strict";let t=(0,e.i(57475).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);e.s(["Sparkles",()=>t],92686)},65989,e=>{"use strict";let t=(0,e.i(57475).default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);e.s(["RefreshCcw",()=>t],65989)},98844,e=>{"use strict";let t=(0,e.i(57475).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],98844)},75919,e=>{"use strict";let t=(0,e.i(57475).default)("smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);e.s(["Smile",()=>t],75919)},11837,e=>{"use strict";var t=e.i(1972),a=e.i(98844),i=e.i(92686);e.s(["default",0,({message:e="æ­£åœ¨ç”Ÿæˆåˆ›æ„..."})=>(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4 p-8 text-center",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-violet-500 blur-xl opacity-20 rounded-full animate-pulse"}),(0,t.jsx)(a.Loader2,{className:"relative text-violet-600 w-12 h-12 animate-spin"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 flex items-center justify-center gap-2",children:[(0,t.jsx)(i.Sparkles,{className:"w-4 h-4 text-amber-400"}),"AI æ­£åœ¨æ€è€ƒ"]}),(0,t.jsx)("p",{className:"text-sm text-gray-500 max-w-xs mx-auto",children:e})]})]})])},12856,3483,e=>{"use strict";let t="/api/gemini/generate",a=async(e,t=1024,a=1024)=>new Promise(i=>{let s=new Image;s.src=e,s.onload=()=>{let r=s.width,l=s.height;if(r<=t&&l<=a)return void i(e);r>l?r>t&&(l=Math.round(l*=t/r),r=t):l>a&&(r=Math.round(r*=a/l),l=a);let n=document.createElement("canvas");n.width=r,n.height=l;let o=n.getContext("2d");o?.drawImage(s,0,0,r,l),i(n.toDataURL("image/jpeg",.9))},s.onerror=()=>i(e)}),i=async(e,i,s,r,l,n)=>{try{let i=await a(e),o="image/jpeg";e.startsWith("data:image/png")?o="image/png":e.startsWith("data:image/webp")?o="image/webp":(e.startsWith("data:image/jpeg")||e.startsWith("data:image/jpg"))&&(o="image/jpeg");let c=i.replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"");if(!c||0===c.length)throw Error("Invalid base64 image data");let d={responseModalities:["IMAGE"]};(r||l||n)&&(d.imageConfig={},r&&(d.imageConfig.aspectRatio=r),n&&(d.imageConfig.outputFormat=n.toLowerCase()));let m={contents:[{parts:[{inlineData:{data:c,mimeType:o}},{text:s}]}],generationConfig:d},h=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!h.ok){let e=`API request failed: ${h.status} ${h.statusText}`;try{let t=await h.json();if(console.error("Gemini API Error:",t),console.error("Request generationConfig:",JSON.stringify(d,null,2)),t.error){let a=t.error;e=a.message||a.localized_message||JSON.stringify(a)||e}else e=JSON.stringify(t)||e}catch(a){let t=await h.text();console.error("Gemini API Error (text):",t),e=t||e}throw Error(e)}let x=await h.json(),g=x.candidates?.[0]?.content?.parts;if(!g)throw Error("No content generated");for(let e of g)if(e.inlineData&&e.inlineData.data){let t=e.inlineData.mimeType||"image/png";return`data:${t};base64,${e.inlineData.data}`}throw Error("No image data found in the response")}catch(e){throw console.error("Gemini API Error:",e),e}},s=async(e,i)=>{try{let s=(await a(e)).replace(/^data:image\/(png|jpeg|webp);base64,/,""),r=`Turn the main character in this image into a high-quality die-cut sticker. 
    Style: Vector art, flat color, thick white outline, white background. 
    Expression/Action: ${i}. 
    Ensure the character is isolated on a pure white background. 
    Do not add text inside the image.`,l={contents:[{parts:[{inlineData:{data:s,mimeType:"image/jpeg"}},{text:r}]}],generationConfig:{responseModalities:["IMAGE"]}},n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!n.ok){let e;try{let t=await n.json();e=t.error||t.details||JSON.stringify(t)}catch{e=`API request failed: ${n.status} ${n.statusText}`}throw Error(e)}let o=await n.json(),c=o.candidates?.[0]?.content?.parts;if(!c)throw Error("No content generated");for(let e of c)if(e.inlineData&&e.inlineData.data){let t=e.inlineData.mimeType||"image/png";return`data:${t};base64,${e.inlineData.data}`}throw Error("No image data found")}catch(e){throw console.error("Sticker Generation Error:",e),e}};e.s(["generateExtendedScene",0,i,"generateSticker",0,s],12856);var r=e.i(1972),l=e.i(68946);let n=(0,e.i(57475).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var o=e.i(65989),c=e.i(64807);let d=[{id:c.AnimationType.NONE,label:"é™æ€",icon:(0,r.jsx)(l.Square,{size:14})},{id:c.AnimationType.SHAKE,label:"é¢¤æŠ–",icon:(0,r.jsx)(n,{size:14})},{id:c.AnimationType.PULSE,label:"è„‰å†²",icon:(0,r.jsx)("div",{className:"w-3 h-3 rounded-full border-2 border-current"})},{id:c.AnimationType.ZOOM,label:"æ”¾å¤§",icon:(0,r.jsx)("div",{className:"text-xs",children:"ðŸ”"})},{id:c.AnimationType.SPIN,label:"æ—‹è½¬",icon:(0,r.jsx)(o.RefreshCcw,{size:14})}];e.s(["ANIMATION_OPTIONS",0,d,"MOOD_PACKS",0,[{id:"custom",label:"è‡ªå®šä¹‰",items:[]},{id:"worker",label:"æ‰“å·¥äºº",items:[{text:"æ”¶åˆ°",prompt:"æ•¬ç¤¼ï¼Œçœ¼ç¥žåšå®šï¼Œæˆ´ç€é¢†å¸¦ï¼ŒèŒä¸šæ„Ÿ"},{text:"ä¸‹ç­",prompt:"é£žå¿«åœ°é€ƒè·‘ï¼Œå¼€å¿ƒï¼Œæ¨¡ç³Šçš„èƒŒæ™¯"},{text:"å¤ªéš¾äº†",prompt:"èººåœ¨åœ°ä¸Šï¼Œç²¾ç–²åŠ›å°½ï¼Œæµç€å¤¸å¼ çš„çœ¼æ³ª"},{text:"æ‘¸é±¼",prompt:"å–ç€å’–å•¡ï¼Œæˆ´ç€å¢¨é•œï¼Œæ‚ é—²æ”¾æ¾"}]},{id:"daily",label:"æ—¥å¸¸",items:[{text:"æ—©ä¸Šå¥½",prompt:"æŒ¥æ‰‹ï¼Œå¼€å¿ƒå¤§ç¬‘ï¼Œé˜³å…‰èƒŒæ™¯"},{text:"æ™šå®‰",prompt:"ç¡è§‰ï¼Œæˆ´ç€ç¡å¸½ï¼Œå®‰è¯¦"},{text:"è°¢è°¢",prompt:"éž èº¬ï¼ŒåŒæ‰‹æ¯”å¿ƒï¼Œæ„Ÿæ¿€"},{text:"ï¼Ÿ",prompt:"å›°æƒ‘çš„è¡¨æƒ…ï¼Œæ»¡å¤´é—®å·"}]}],"PRESET_STYLES",0,[{id:"realistic",label:"å†™å®žæ‘„å½±",value:"photorealistic, 8k, highly detailed, cinematic lighting, realistic textures"},{id:"anime",label:"æ—¥ç³»åŠ¨æ¼«",value:"anime style, studio ghibli, vibrant colors, cel shading, detailed background"},{id:"watercolor",label:"æ¸…æ–°æ°´å½©",value:"watercolor painting, soft edges, artistic, pastel colors, dreamy atmosphere"},{id:"cyberpunk",label:"èµ›åšæœ‹å…‹",value:"cyberpunk, neon lights, futuristic city, high contrast, tech noir"},{id:"3d",label:"3D æ¸²æŸ“",value:"3D render, blender, unreal engine 5, c4d, clay material, soft lighting"},{id:"illustration",label:"æ‰å¹³æ’ç”»",value:"flat illustration, vector art, minimal, clean lines, bold colors"},{id:"oil",label:"æ²¹ç”»é£Žæ ¼",value:"oil painting, textured brushstrokes, classical art style, van gogh style"},{id:"pixel",label:"åƒç´ è‰ºæœ¯",value:"pixel art, 8-bit, retro game style, blocky"}]],3483)},84428,e=>{"use strict";var t=e.i(1972),a=e.i(83832),i=e.i(68163);let s=(0,e.i(57475).default)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]);var r=e.i(18486),l=e.i(11854);e.s(["default",0,({isOpen:e,onClose:n,onLogin:o,onUpgrade:c,userStatus:d,remainingQuota:m,limit:h,type:x})=>{if(!e)return null;let g="scene"===x?"åœºæ™¯æ‰©å±•":"è¡¨æƒ…åŒ…åˆ¶ä½œ";return(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:(0,t.jsx)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md mx-4 overflow-hidden animate-in zoom-in-95 duration-200",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",children:(0,t.jsx)(i.Zap,{size:24,className:"text-red-600"})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"é¢åº¦ä¸è¶³"})]}),(0,t.jsx)("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,t.jsx)(a.X,{size:20,className:"text-gray-500"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"bg-gray-50 rounded-2xl p-4",children:(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["å‰©ä½™ ",g," é¢åº¦"]}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:[m," ",(0,t.jsxs)("span",{className:"text-lg text-gray-500",children:["/ ",h]})]})]})}),(0,t.jsx)("div",{className:"space-y-3",children:d===l.UserStatus.GUEST?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-gray-700 text-center",children:"æ¸¸å®¢ä½“éªŒæ¬¡æ•°å·²ç”¨å®Œï¼"}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 text-center",children:["ç™»å½•åŽå¯èŽ·å¾—æ¯æ—¥ 5 æ¬¡ ",g," é¢åº¦"]}),(0,t.jsxs)("button",{onClick:()=>{n(),o?.()},className:"w-full py-3 rounded-xl font-semibold bg-violet-600 text-white hover:bg-violet-700 transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(s,{size:18}),"ç«‹å³ç™»å½•"]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{className:"text-gray-700 text-center",children:[g,"é¢åº¦ä¸è¶³ï¼"]}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 text-center",children:["å‡çº§ä¼šå‘˜å¯èŽ·å–æ¯æ—¥ 50 æ¬¡ ",g," é¢åº¦"]}),(0,t.jsxs)("button",{onClick:()=>{n(),c?.()},className:"w-full py-3 rounded-xl font-semibold bg-amber-400 text-amber-900 hover:bg-amber-300 transition-colors flex items-center justify-center gap-2 shadow-lg shadow-amber-900/20",children:[(0,t.jsx)(r.Crown,{size:18}),"å‡çº§ä¼šå‘˜"]})]})})]})]})})})}],84428)},39761,e=>{e.v(e=>Promise.resolve().then(()=>e(54558)))}]);