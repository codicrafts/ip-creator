module.exports=[22497,65403,a=>{"use strict";var b=a.i(86269);let c=(0,b.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);a.s(["ImageIcon",()=>c],22497);let d=(0,b.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>d],65403)},48336,a=>{"use strict";let b="ip_creative_source_image",c="ip_creative_source_image_mime_type";a.s(["loadSourceImage",0,()=>{try{let a=localStorage.getItem(b),d=localStorage.getItem(c);if(a&&d)return{image:a,mimeType:d}}catch(a){console.error("Failed to load source image from localStorage:",a)}return null},"saveSourceImage",0,(a,d)=>{try{localStorage.setItem(b,a),localStorage.setItem(c,d)}catch(e){console.error("Failed to save source image to localStorage:",e);try{localStorage.removeItem(b),localStorage.removeItem(c),localStorage.setItem(b,a),localStorage.setItem(c,d)}catch(a){console.error("Failed to save source image after cleanup:",a)}}}])},57949,a=>{"use strict";let b=(0,a.i(86269).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);a.s(["ChevronLeft",()=>b],57949)},16216,a=>{"use strict";let b=(0,a.i(86269).default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);a.s(["RefreshCcw",()=>b],16216)},38752,a=>{"use strict";let b=(0,a.i(86269).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],38752)},68770,a=>{"use strict";let b=(0,a.i(86269).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);a.s(["Sparkles",()=>b],68770)},90124,a=>{"use strict";var b=a.i(46447),c=a.i(97643),d=a.i(16616);let e=(0,a.i(86269).default)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]);var f=a.i(79469),g=a.i(4204);a.s(["default",0,({isOpen:a,onClose:h,onLogin:i,onUpgrade:j,userStatus:k,remainingQuota:l,limit:m,type:n})=>{if(!a)return null;let o="scene"===n?"åœºæ™¯æ‰©å±•":"è¡¨æƒ…åŒ…åˆ¶ä½œ";return(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:(0,b.jsx)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md mx-4 overflow-hidden animate-in zoom-in-95 duration-200",children:(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center",children:(0,b.jsx)(d.Zap,{size:24,className:"text-red-600"})}),(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"é¢åº¦ä¸è¶³"})]}),(0,b.jsx)("button",{onClick:h,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,b.jsx)(c.X,{size:20,className:"text-gray-500"})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"bg-gray-50 rounded-2xl p-4",children:(0,b.jsxs)("div",{className:"text-center space-y-2",children:[(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:["å‰©ä½™ ",o," é¢åº¦"]}),(0,b.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:[l," ",(0,b.jsxs)("span",{className:"text-lg text-gray-500",children:["/ ",m]})]})]})}),(0,b.jsx)("div",{className:"space-y-3",children:k===g.UserStatus.GUEST?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("p",{className:"text-gray-700 text-center",children:"æ¸¸å®¢ä½“éªŒæ¬¡æ•°å·²ç”¨å®Œï¼"}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 text-center",children:["ç™»å½•åŽå¯èŽ·å¾—æ¯æ—¥ 5 æ¬¡ ",o," é¢åº¦"]}),(0,b.jsxs)("button",{onClick:()=>{h(),i?.()},className:"w-full py-3 rounded-xl font-semibold bg-violet-600 text-white hover:bg-violet-700 transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(e,{size:18}),"ç«‹å³ç™»å½•"]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("p",{className:"text-gray-700 text-center",children:[o,"é¢åº¦ä¸è¶³ï¼"]}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 text-center",children:["å‡çº§ä¼šå‘˜å¯èŽ·å–æ¯æ—¥ 50 æ¬¡ ",o," é¢åº¦"]}),(0,b.jsxs)("button",{onClick:()=>{h(),j?.()},className:"w-full py-3 rounded-xl font-semibold bg-amber-400 text-amber-900 hover:bg-amber-300 transition-colors flex items-center justify-center gap-2 shadow-lg shadow-amber-900/20",children:[(0,b.jsx)(f.Crown,{size:18}),"å‡çº§ä¼šå‘˜"]})]})})]})]})})})}],90124)},88431,52255,a=>{"use strict";let b="/api/gemini/generate",c=async(a,b=1024,c=1024)=>new Promise(d=>{let e=new Image;e.src=a,e.onload=()=>{let f=e.width,g=e.height;if(f<=b&&g<=c)return void d(a);f>g?f>b&&(g=Math.round(g*=b/f),f=b):g>c&&(f=Math.round(f*=c/g),g=c);let h=document.createElement("canvas");h.width=f,h.height=g;let i=h.getContext("2d");i?.drawImage(e,0,0,f,g),d(h.toDataURL("image/jpeg",.9))},e.onerror=()=>d(a)}),d=async(a,d,e,f,g,h)=>{try{let d=await c(a),i="image/jpeg";a.startsWith("data:image/png")?i="image/png":a.startsWith("data:image/webp")?i="image/webp":(a.startsWith("data:image/jpeg")||a.startsWith("data:image/jpg"))&&(i="image/jpeg");let j=d.replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"");if(!j||0===j.length)throw Error("Invalid base64 image data");let k={responseModalities:["IMAGE"]};(f||g||h)&&(k.imageConfig={},f&&(k.imageConfig.aspectRatio=f),h&&(k.imageConfig.outputFormat=h.toLowerCase()));let l={contents:[{parts:[{inlineData:{data:j,mimeType:i}},{text:e}]}],generationConfig:k},m=await fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!m.ok){let a=`API request failed: ${m.status} ${m.statusText}`;try{let b=await m.json();if(console.error("Gemini API Error:",b),console.error("Request generationConfig:",JSON.stringify(k,null,2)),b.error){let c=b.error;a=c.message||c.localized_message||JSON.stringify(c)||a}else a=JSON.stringify(b)||a}catch(c){let b=await m.text();console.error("Gemini API Error (text):",b),a=b||a}throw Error(a)}let n=await m.json(),o=n.candidates?.[0]?.content?.parts;if(!o)throw Error("No content generated");for(let a of o)if(a.inlineData&&a.inlineData.data){let b=a.inlineData.mimeType||"image/png";return`data:${b};base64,${a.inlineData.data}`}throw Error("No image data found in the response")}catch(a){throw console.error("Gemini API Error:",a),a}},e=async(a,d)=>{try{let e=(await c(a)).replace(/^data:image\/(png|jpeg|webp);base64,/,""),f=`Turn the main character in this image into a high-quality die-cut sticker. 
    Style: Vector art, flat color, thick white outline, white background. 
    Expression/Action: ${d}. 
    Ensure the character is isolated on a pure white background. 
    Do not add text inside the image.`,g={contents:[{parts:[{inlineData:{data:e,mimeType:"image/jpeg"}},{text:f}]}],generationConfig:{responseModalities:["IMAGE"]}},h=await fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!h.ok){let a;try{let b=await h.json();a=b.error||b.details||JSON.stringify(b)}catch{a=`API request failed: ${h.status} ${h.statusText}`}throw Error(a)}let i=await h.json(),j=i.candidates?.[0]?.content?.parts;if(!j)throw Error("No content generated");for(let a of j)if(a.inlineData&&a.inlineData.data){let b=a.inlineData.mimeType||"image/png";return`data:${b};base64,${a.inlineData.data}`}throw Error("No image data found")}catch(a){throw console.error("Sticker Generation Error:",a),a}};a.s(["generateExtendedScene",0,d,"generateSticker",0,e],88431);var f=a.i(46447),g=a.i(60935);let h=(0,a.i(86269).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var i=a.i(16216),j=a.i(3752);let k=[{id:j.AnimationType.NONE,label:"é™æ€",icon:(0,f.jsx)(g.Square,{size:14})},{id:j.AnimationType.SHAKE,label:"é¢¤æŠ–",icon:(0,f.jsx)(h,{size:14})},{id:j.AnimationType.PULSE,label:"è„‰å†²",icon:(0,f.jsx)("div",{className:"w-3 h-3 rounded-full border-2 border-current"})},{id:j.AnimationType.ZOOM,label:"æ”¾å¤§",icon:(0,f.jsx)("div",{className:"text-xs",children:"ðŸ”"})},{id:j.AnimationType.SPIN,label:"æ—‹è½¬",icon:(0,f.jsx)(i.RefreshCcw,{size:14})}];a.s(["ANIMATION_OPTIONS",0,k,"MOOD_PACKS",0,[{id:"custom",label:"è‡ªå®šä¹‰",items:[]},{id:"worker",label:"æ‰“å·¥äºº",items:[{text:"æ”¶åˆ°",prompt:"æ•¬ç¤¼ï¼Œçœ¼ç¥žåšå®šï¼Œæˆ´ç€é¢†å¸¦ï¼ŒèŒä¸šæ„Ÿ"},{text:"ä¸‹ç­",prompt:"é£žå¿«åœ°é€ƒè·‘ï¼Œå¼€å¿ƒï¼Œæ¨¡ç³Šçš„èƒŒæ™¯"},{text:"å¤ªéš¾äº†",prompt:"èººåœ¨åœ°ä¸Šï¼Œç²¾ç–²åŠ›å°½ï¼Œæµç€å¤¸å¼ çš„çœ¼æ³ª"},{text:"æ‘¸é±¼",prompt:"å–ç€å’–å•¡ï¼Œæˆ´ç€å¢¨é•œï¼Œæ‚ é—²æ”¾æ¾"}]},{id:"daily",label:"æ—¥å¸¸",items:[{text:"æ—©ä¸Šå¥½",prompt:"æŒ¥æ‰‹ï¼Œå¼€å¿ƒå¤§ç¬‘ï¼Œé˜³å…‰èƒŒæ™¯"},{text:"æ™šå®‰",prompt:"ç¡è§‰ï¼Œæˆ´ç€ç¡å¸½ï¼Œå®‰è¯¦"},{text:"è°¢è°¢",prompt:"éž èº¬ï¼ŒåŒæ‰‹æ¯”å¿ƒï¼Œæ„Ÿæ¿€"},{text:"ï¼Ÿ",prompt:"å›°æƒ‘çš„è¡¨æƒ…ï¼Œæ»¡å¤´é—®å·"}]}],"PRESET_STYLES",0,[{id:"realistic",label:"å†™å®žæ‘„å½±",value:"photorealistic, 8k, highly detailed, cinematic lighting, realistic textures"},{id:"anime",label:"æ—¥ç³»åŠ¨æ¼«",value:"anime style, studio ghibli, vibrant colors, cel shading, detailed background"},{id:"watercolor",label:"æ¸…æ–°æ°´å½©",value:"watercolor painting, soft edges, artistic, pastel colors, dreamy atmosphere"},{id:"cyberpunk",label:"èµ›åšæœ‹å…‹",value:"cyberpunk, neon lights, futuristic city, high contrast, tech noir"},{id:"3d",label:"3D æ¸²æŸ“",value:"3D render, blender, unreal engine 5, c4d, clay material, soft lighting"},{id:"illustration",label:"æ‰å¹³æ’ç”»",value:"flat illustration, vector art, minimal, clean lines, bold colors"},{id:"oil",label:"æ²¹ç”»é£Žæ ¼",value:"oil painting, textured brushstrokes, classical art style, van gogh style"},{id:"pixel",label:"åƒç´ è‰ºæœ¯",value:"pixel art, 8-bit, retro game style, blocky"}]],52255)},4154,a=>{"use strict";var b=a.i(46447),c=a.i(1470),d=a.i(57949),e=a.i(68770);let f=(0,a.i(86269).default)("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);var g=a.i(22497),h=a.i(65403),i=a.i(16616),j=a.i(56489),k=a.i(91568),l=a.i(34),m=a.i(3752),n=a.i(4204),o=a.i(92287),p=a.i(65427),q=a.i(1706),r=a.i(90124),s=a.i(88431),t=a.i(52255),u=a.i(48336),v=a.i(81213),w=a.i(30564);function x(){let a=(0,c.useRouter)(),x=(0,j.useAppDispatch)(),y=(0,j.useAppSelector)(a=>a.image.sourceImage),z=(0,j.useAppSelector)(a=>a.image.mimeType),A=(0,j.useAppSelector)(a=>a.image.prompt),B=(0,j.useAppSelector)(a=>a.image.selectedStyle),C=(0,j.useAppSelector)(a=>a.image.aspectRatio);(0,j.useAppSelector)(a=>a.image.imageSize),(0,j.useAppSelector)(a=>a.image.imageFormat),(0,j.useAppSelector)(a=>a.app.loadingState),(0,j.useAppSelector)(a=>a.app.errorMsg);let D=(0,j.useAppSelector)(a=>a.user.status),E=(0,j.useAppSelector)(a=>a.user.userId),F=(0,j.useAppSelector)(a=>a.user.userTier),G=(0,j.useAppSelector)(a=>a.user.sceneUsage),H=(0,j.useAppSelector)(a=>a.app.isPaymentModalOpen),I=(0,j.useAppSelector)(a=>a.app.isQuotaModalOpen),J=(0,w.useRef)(!1);(0,w.useEffect)(()=>{if(!J.current&&(J.current=!0,!y)){let a=(0,u.loadSourceImage)();a&&x((0,k.setSourceImage)({image:a.image,mimeType:a.mimeType}))}},[y,x]),(0,w.useEffect)(()=>{y&&(0,u.saveSourceImage)(y,z)},[y,z]);let K=()=>"PREMIUM"===F?50:"LOGGED_IN"===D?5:1,L=()=>{let a=(0,v.getTodayDateString)();return(0,v.normalizeDateString)(G.date)===a&&G.count>=K()},M=()=>{let a=(0,v.getTodayDateString)();return(0,v.normalizeDateString)(G.date)!==a?K():Math.max(0,K()-G.count)},N=async()=>{if(L())return void x((0,l.setIsQuotaModalOpen)(!0));if(y&&A){x((0,l.setLoadingState)(m.LoadingState.GENERATING)),a.push("/result");try{let a=A,b="";if(B){let c=t.PRESET_STYLES.find(a=>a.id===B);c&&(b=c.label,a=`${A}. Style modifiers: ${c.value}`)}let c=await (0,s.generateExtendedScene)(y,z,a,C);if(x((0,n.updateSceneUsage)(1)),"LOGGED_IN"===D&&E)try{let a=await (0,o.updateSceneUsage)(E,1);x((0,n.setSceneUsage)(a))}catch(a){console.error("Failed to sync scene usage to backend:",a)}let d=await (0,p.saveHistory)("scene",c,A,b);if(d){let a={id:d.id,url:d.url,timestamp:d.timestamp,prompt:d.prompt,style:d.style};x((0,k.addToHistory)(a))}x((0,k.setResultImage)(c)),x((0,l.setLoadingState)(m.LoadingState.SUCCESS))}catch(a){console.error(a),x((0,l.setLoadingState)(m.LoadingState.ERROR))}}},O=L();return(0,b.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-50 pb-24 md:pt-16",children:[(0,b.jsxs)("header",{className:"bg-white px-4 md:hidden py-3 sticky top-0 z-10 shadow-sm border-b border-gray-100 flex items-center gap-4",children:[(0,b.jsx)("button",{onClick:()=>a.push("/create"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,b.jsx)(d.ChevronLeft,{size:24,className:"text-gray-600"})}),(0,b.jsx)("h2",{className:"font-bold text-lg text-gray-800",children:"åˆ›æ„å·¥åŠ"}),(0,b.jsx)("div",{className:"ml-auto",children:(0,b.jsxs)("div",{className:`flex items-center gap-1 text-xs font-medium px-2 py-1 rounded-full border ${O?"bg-red-50 text-red-500 border-red-100":"bg-violet-50 text-violet-600 border-violet-100"}`,children:[(0,b.jsx)(i.Zap,{size:12,fill:"currentColor"}),M()," / ",K()]})})]}),(0,b.jsxs)("div",{className:"flex-1 p-6 md:p-12 space-y-6 overflow-y-auto max-w-6xl mx-auto w-full",children:[(0,b.jsx)("div",{className:"hidden md:flex items-center justify-end mb-2",children:(0,b.jsxs)("div",{className:`flex items-center gap-2 text-sm font-medium px-4 py-2 rounded-full border ${O?"bg-red-50 text-red-600 border-red-200":"bg-violet-50 text-violet-700 border-violet-200"}`,children:[(0,b.jsx)(i.Zap,{size:16,fill:"currentColor"}),(0,b.jsxs)("span",{className:"font-semibold",children:[M()," / ",K()]})]})}),(0,b.jsxs)("div",{className:"md:grid md:grid-cols-2 md:gap-8 md:items-start",children:[(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsx)("div",{className:"bg-white p-2 rounded-2xl shadow-sm border border-gray-100",children:y&&(0,b.jsx)("img",{src:y,alt:"Preview",className:"w-full h-48 md:h-64 object-contain bg-gray-100 rounded-xl"})})}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("label",{className:"text-sm font-semibold text-gray-800 ml-1 flex items-center gap-2",children:[(0,b.jsx)(e.Sparkles,{size:16,className:"text-violet-500"}),"ä½ æƒ³å¦‚ä½•æ‰©å±•è¿™ä¸ªåœºæ™¯ï¼Ÿ"]}),(0,b.jsx)("div",{className:"relative",children:(0,b.jsx)("textarea",{value:A,onChange:a=>x((0,k.setPrompt)(a.target.value)),placeholder:"ä¾‹å¦‚ï¼šè®©è¿™åªçŒ«å’ªååœ¨å……æ»¡æœªæ¥æ„Ÿçš„éœ“è™¹åŸŽå¸‚è¡—é“ä¸Šï¼Œä¸‹ç€å°é›¨...",className:"w-full p-4 md:p-6 pb-12 rounded-2xl border border-gray-200 bg-white focus:ring-2 focus:ring-violet-500 focus:border-transparent outline-none resize-none text-gray-700 shadow-sm h-32 md:h-40 text-sm md:text-base leading-relaxed"})})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("label",{className:"text-sm font-semibold text-gray-800 ml-1 flex items-center gap-2",children:[(0,b.jsx)(f,{size:16,className:"text-violet-500"}),"è‰ºæœ¯é£Žæ ¼"]}),(0,b.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-3",children:t.PRESET_STYLES.map(a=>{let c=B===a.id;return(0,b.jsxs)("button",{onClick:()=>x((0,k.setSelectedStyle)(c?null:a.id)),className:`
                        relative px-2 py-3 rounded-xl text-xs md:text-sm font-medium transition-all duration-200 border
                        flex flex-col items-center justify-center gap-1 overflow-hidden
                        ${c?"bg-violet-50 border-violet-500 text-violet-700 shadow-sm ring-1 ring-violet-200":"bg-white border-gray-200 text-gray-600 hover:border-violet-200 hover:bg-gray-50"}
                      `,children:[c&&(0,b.jsx)("div",{className:"absolute top-1 right-1",children:(0,b.jsx)(h.Check,{size:12,className:"text-violet-600"})}),(0,b.jsx)("span",{children:a.label})]},a.id)})})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("label",{className:"text-sm font-semibold text-gray-800 ml-1 flex items-center gap-2",children:[(0,b.jsx)(g.ImageIcon,{size:16,className:"text-violet-500"}),"å›¾ç‰‡æ¯”ä¾‹"]}),(0,b.jsx)("div",{className:"grid grid-cols-5 gap-2",children:["1:1","16:9","9:16","4:3","3:4","21:9","3:2","2:3","5:4","4:5"].map(a=>(0,b.jsx)("button",{onClick:()=>x((0,k.setAspectRatio)(a)),className:`
                      px-3 py-2 rounded-xl text-xs font-medium transition-all border
                      ${C===a?"bg-violet-50 border-violet-500 text-violet-700 shadow-sm ring-1 ring-violet-200":"bg-white border-gray-200 text-gray-600 hover:border-violet-200 hover:bg-gray-50"}
                    `,children:a},a))})]})]})]})]}),(0,b.jsxs)("div",{className:"px-6 md:px-12 pb-4 pt-2 bg-gradient-to-t from-gray-50 to-transparent max-w-6xl mx-auto w-full",children:[(0,b.jsx)("button",{onClick:N,disabled:!A.trim()||O,className:`w-full py-4 rounded-2xl font-semibold shadow-lg flex items-center justify-center gap-2 transition-all active:scale-95
            ${!A.trim()||O?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-violet-600 text-white shadow-violet-200 hover:bg-violet-700"}`,children:O?(0,b.jsx)("span",{children:"ä»Šæ—¥é¢åº¦å·²ç”¨å®Œ"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.Sparkles,{size:18}),"ç«‹å³ç”Ÿæˆ"]})}),O&&(0,b.jsx)("p",{onClick:()=>a.push("/profile"),className:"text-center text-xs text-violet-600 mt-2 cursor-pointer hover:underline",children:"å‡çº§ä¼šå‘˜èŽ·å–æ›´å¤šé¢åº¦ â†’"})]}),(0,b.jsx)(q.default,{isOpen:H,onClose:()=>x((0,l.setIsPaymentModalOpen)(!1)),onSuccess:()=>{x((0,n.setUserTier)(m.UserTier.PREMIUM)),x((0,l.setIsPaymentModalOpen)(!1))},amount:29.9,productName:"IP åˆ›æƒ³åŠä¼šå‘˜",productDesc:"è§£é”æ¯æ—¥ 50 æ¬¡åœºæ™¯æ‰©å±•å’Œ 50 æ¬¡è¡¨æƒ…åŒ…åˆ¶ä½œé¢åº¦"}),(0,b.jsx)(r.default,{isOpen:I,onClose:()=>x((0,l.setIsQuotaModalOpen)(!1)),onLogin:()=>a.push("/login"),onUpgrade:()=>x((0,l.setIsPaymentModalOpen)(!0)),userStatus:D,remainingQuota:M(),limit:K(),type:"scene"})]})}a.s(["default",()=>x],4154)},65748,a=>{a.v(a=>Promise.resolve().then(()=>a(34528)))}];

//# sourceMappingURL=_b4e20f6d._.js.map