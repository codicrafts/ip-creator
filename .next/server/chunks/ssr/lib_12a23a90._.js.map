{"version":3,"sources":["../../../../lib/date-utils.ts"],"sourcesContent":["/**\n * 日期工具函数\n * 统一日期格式，避免不同环境下的格式差异\n */\n\n/**\n * 获取今天的日期字符串（格式：YYYY-MM-DD）\n */\nexport function getTodayDateString(): string {\n  const today = new Date();\n  const year = today.getFullYear();\n  const month = String(today.getMonth() + 1).padStart(2, '0');\n  const day = String(today.getDate()).padStart(2, '0');\n  return `${year}-${month}-${day}`;\n}\n\n/**\n * 将日期转换为统一格式（YYYY-MM-DD）\n * 如果输入是字符串，尝试解析并转换\n */\nexport function normalizeDateString(date: string | Date): string {\n  if (date instanceof Date) {\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  }\n  \n  // 如果是字符串，尝试解析\n  const dateObj = new Date(date);\n  if (!isNaN(dateObj.getTime())) {\n    const year = dateObj.getFullYear();\n    const month = String(dateObj.getMonth() + 1).padStart(2, '0');\n    const day = String(dateObj.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  }\n  \n  // 如果已经是 YYYY-MM-DD 格式，直接返回\n  if (/^\\d{4}-\\d{2}-\\d{2}$/.test(date)) {\n    return date;\n  }\n  \n  // 尝试解析其他格式（如 M/D/YYYY 或 YYYY/M/D）\n  const parts = date.split(/[\\/\\-]/);\n  if (parts.length === 3) {\n    let year: string, month: string, day: string;\n    \n    // 判断格式：如果第一部分是4位数，则是 YYYY/M/D\n    if (parts[0].length === 4) {\n      year = parts[0];\n      month = parts[1].padStart(2, '0');\n      day = parts[2].padStart(2, '0');\n    } else {\n      // 否则是 M/D/YYYY\n      month = parts[0].padStart(2, '0');\n      day = parts[1].padStart(2, '0');\n      year = parts[2];\n    }\n    \n    return `${year}-${month}-${day}`;\n  }\n  \n  // 如果无法解析，返回原字符串\n  return date;\n}\n\n"],"names":[],"mappings":"uCAQO,SAAS,IACd,IAAM,EAAQ,IAAI,KACZ,EAAO,EAAM,WAAW,GACxB,EAAQ,OAAO,EAAM,QAAQ,GAAK,GAAG,QAAQ,CAAC,EAAG,KACjD,EAAM,OAAO,EAAM,OAAO,IAAI,QAAQ,CAAC,EAAG,KAChD,MAAO,CAAA,EAAG,EAAK,CAAC,EAAE,EAAM,CAAC,EAAE,EAAA,CAC7B,AADkC,CAO3B,SAAS,EAAoB,CAAmB,EACrD,GAAI,aAAgB,KAAM,CACxB,IAAM,EAAO,EAAK,WAAW,GACvB,EAAQ,OAAO,EAAK,QAAQ,GAAK,GAAG,QAAQ,CAAC,EAAG,KAChD,EAAM,OAAO,EAAK,OAAO,IAAI,QAAQ,CAAC,EAAG,KAC/C,MAAO,CAAA,EAAG,EAAK,CAAC,EAAE,EAAM,CAAC,EAAE,EAAA,CAAK,AAClC,CAGA,IAAM,EAAU,IAAI,KAAK,GACzB,GAAI,CAAC,MAAM,EAAQ,OAAO,IAAK,CAC7B,IAAM,EAAO,EAAQ,WAAW,GAC1B,EAAQ,OAAO,EAAQ,QAAQ,GAAK,GAAG,QAAQ,CAAC,EAAG,KACnD,EAAM,OAAO,EAAQ,OAAO,IAAI,QAAQ,CAAC,EAAG,KAClD,MAAO,CAAA,EAAG,EAAK,CAAC,EAAE,EAAM,CAAC,EAAE,EAAA,CAAK,AAClC,CAGA,GAAI,sBAAsB,IAAI,CAAC,GAC7B,IADoC,GAC7B,EAIT,IAAM,EAAQ,EAAK,KAAK,CAAC,UACzB,GAAqB,IAAjB,EAAM,MAAM,CAAQ,CACtB,IAAI,EAAc,EAAe,EAcjC,OAXwB,GAAG,CAAvB,CAAK,CAAC,EAAE,CAAC,MAAM,EACjB,EAAO,CAAK,CAAC,EAAE,CACf,EAAQ,CAAK,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAG,KAC7B,EAAM,CAAK,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAG,OAG3B,EAAQ,CAAK,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAG,KAC7B,EAAM,CAAK,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAG,KAC3B,EAAO,CAAK,CAAC,EAAE,EAGV,CAAA,EAAG,EAAK,CAAC,EAAE,EAAM,CAAC,EAAE,EAAA,CAAK,AAClC,CAGA,OAAO,CACT"}