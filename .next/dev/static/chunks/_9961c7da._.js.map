{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/weili/work/generate-web/types.ts"],"sourcesContent":["export enum AppView {\n  HOME = 'HOME',\n  UPLOAD = 'UPLOAD',\n  EDIT = 'EDIT',\n  RESULT = 'RESULT',\n  PROFILE = 'PROFILE',\n  MEME_EDITOR = 'MEME_EDITOR'\n}\n\nexport interface GeneratedImage {\n  id: string; // Added unique ID\n  url: string;\n  timestamp: number;\n  prompt: string;\n  style?: string; // Optional style info\n}\n\nexport enum LoadingState {\n  IDLE = 'IDLE',\n  UPLOADING = 'UPLOADING',\n  GENERATING = 'GENERATING',\n  ERROR = 'ERROR',\n  SUCCESS = 'SUCCESS'\n}\n\nexport enum UserTier {\n  FREE = 'FREE',\n  PREMIUM = 'PREMIUM'\n}\n\nexport interface DailyUsage {\n  date: string; // YYYY-MM-DD\n  count: number;\n}\n\nexport enum AnimationType {\n  NONE = 'none',\n  SHAKE = 'shake',\n  PULSE = 'pulse',\n  ZOOM = 'zoom',\n  SPIN = 'spin'\n}\n\nexport interface MemeDraft {\n  id: string;\n  sourceUrl: string;\n  generatedUrl: string | null;\n  text: string; // The text overlay\n  moodPrompt: string; // e.g., \"laughing out loud\"\n  status: 'pending' | 'generating' | 'done' | 'error';\n  animation: AnimationType;\n}\n\n// Payment Types\nexport enum PaymentMethod {\n  WECHAT = 'WECHAT',\n  ALIPAY = 'ALIPAY'\n}\n\nexport enum PaymentStatus {\n  PENDING = 'PENDING',\n  SUCCESS = 'SUCCESS',\n  FAILED = 'FAILED',\n  CANCELLED = 'CANCELLED'\n}\n\nexport interface PaymentOrder {\n  orderId: string;\n  amount: number; // 金额（分）\n  productName: string;\n  productDesc?: string;\n  paymentMethod: PaymentMethod;\n  status: PaymentStatus;\n  createdAt: number;\n  paidAt?: number;\n}\n\nexport interface CreateOrderRequest {\n  amount: number; // 金额（分）\n  productName: string;\n  productDesc?: string;\n  paymentMethod: PaymentMethod;\n  userId?: string;\n}\n\nexport interface CreateOrderResponse {\n  orderId: string;\n  paymentParams: WechatPaymentParams | AlipayPaymentParams;\n}\n\n// 微信支付参数\nexport interface WechatPaymentParams {\n  appId: string;\n  timeStamp: string;\n  nonceStr: string;\n  package: string; // prepay_id=xxx\n  signType: string;\n  paySign: string;\n}\n\n// 支付宝支付参数\nexport interface AlipayPaymentParams {\n  orderString: string; // 支付宝订单字符串\n}"],"names":[],"mappings":";;;;;;;;;;;;;;AAAO,IAAA,AAAK,iCAAA;;;;;;;WAAA;;AAiBL,IAAA,AAAK,sCAAA;;;;;;WAAA;;AAQL,IAAA,AAAK,kCAAA;;;WAAA;;AAUL,IAAA,AAAK,uCAAA;;;;;;WAAA;;AAmBL,IAAA,AAAK,uCAAA;;;WAAA;;AAKL,IAAA,AAAK,uCAAA;;;;;WAAA"}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///Users/weili/work/generate-web/store/slices/appSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { AppView, LoadingState } from '@/types';\n\ninterface AppState {\n  currentView: AppView;\n  loadingState: LoadingState;\n  errorMsg: string | null;\n  viewingHistoryItem: string | null; // history item id\n  isSelectionMode: boolean;\n  selectedHistoryIds: string[];\n  isPaymentModalOpen: boolean;\n}\n\nconst initialState: AppState = {\n  currentView: AppView.HOME,\n  loadingState: LoadingState.IDLE,\n  errorMsg: null,\n  viewingHistoryItem: null,\n  isSelectionMode: false,\n  selectedHistoryIds: [],\n  isPaymentModalOpen: false,\n};\n\nconst appSlice = createSlice({\n  name: 'app',\n  initialState,\n  reducers: {\n    setCurrentView: (state, action: PayloadAction<AppView>) => {\n      state.currentView = action.payload;\n    },\n    setLoadingState: (state, action: PayloadAction<LoadingState>) => {\n      state.loadingState = action.payload;\n    },\n    setErrorMsg: (state, action: PayloadAction<string | null>) => {\n      state.errorMsg = action.payload;\n    },\n    setViewingHistoryItem: (state, action: PayloadAction<string | null>) => {\n      state.viewingHistoryItem = action.payload;\n    },\n    setIsSelectionMode: (state, action: PayloadAction<boolean>) => {\n      state.isSelectionMode = action.payload;\n    },\n    setSelectedHistoryIds: (state, action: PayloadAction<string[]>) => {\n      state.selectedHistoryIds = action.payload;\n    },\n    toggleHistorySelection: (state, action: PayloadAction<string>) => {\n      const id = action.payload;\n      if (state.selectedHistoryIds.includes(id)) {\n        state.selectedHistoryIds = state.selectedHistoryIds.filter(x => x !== id);\n      } else {\n        if (state.selectedHistoryIds.length < 9) {\n          state.selectedHistoryIds.push(id);\n        }\n      }\n    },\n    setIsPaymentModalOpen: (state, action: PayloadAction<boolean>) => {\n      state.isPaymentModalOpen = action.payload;\n    },\n  },\n});\n\nexport const {\n  setCurrentView,\n  setLoadingState,\n  setErrorMsg,\n  setViewingHistoryItem,\n  setIsSelectionMode,\n  setSelectedHistoryIds,\n  toggleHistorySelection,\n  setIsPaymentModalOpen,\n} = appSlice.actions;\n\nexport default appSlice.reducer;\n\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;;;AAYA,MAAM,eAAyB;IAC7B,aAAa,mHAAO,CAAC,IAAI;IACzB,cAAc,wHAAY,CAAC,IAAI;IAC/B,UAAU;IACV,oBAAoB;IACpB,iBAAiB;IACjB,oBAAoB,EAAE;IACtB,oBAAoB;AACtB;AAEA,MAAM,WAAW,IAAA,qZAAW,EAAC;IAC3B,MAAM;IACN;IACA,UAAU;QACR,gBAAgB,CAAC,OAAO;YACtB,MAAM,WAAW,GAAG,OAAO,OAAO;QACpC;QACA,iBAAiB,CAAC,OAAO;YACvB,MAAM,YAAY,GAAG,OAAO,OAAO;QACrC;QACA,aAAa,CAAC,OAAO;YACnB,MAAM,QAAQ,GAAG,OAAO,OAAO;QACjC;QACA,uBAAuB,CAAC,OAAO;YAC7B,MAAM,kBAAkB,GAAG,OAAO,OAAO;QAC3C;QACA,oBAAoB,CAAC,OAAO;YAC1B,MAAM,eAAe,GAAG,OAAO,OAAO;QACxC;QACA,uBAAuB,CAAC,OAAO;YAC7B,MAAM,kBAAkB,GAAG,OAAO,OAAO;QAC3C;QACA,wBAAwB,CAAC,OAAO;YAC9B,MAAM,KAAK,OAAO,OAAO;YACzB,IAAI,MAAM,kBAAkB,CAAC,QAAQ,CAAC,KAAK;gBACzC,MAAM,kBAAkB,GAAG,MAAM,kBAAkB,CAAC,MAAM,CAAC,CAAA,IAAK,MAAM;YACxE,OAAO;gBACL,IAAI,MAAM,kBAAkB,CAAC,MAAM,GAAG,GAAG;oBACvC,MAAM,kBAAkB,CAAC,IAAI,CAAC;gBAChC;YACF;QACF;QACA,uBAAuB,CAAC,OAAO;YAC7B,MAAM,kBAAkB,GAAG,OAAO,OAAO;QAC3C;IACF;AACF;AAEO,MAAM,EACX,cAAc,EACd,eAAe,EACf,WAAW,EACX,qBAAqB,EACrB,kBAAkB,EAClB,qBAAqB,EACrB,sBAAsB,EACtB,qBAAqB,EACtB,GAAG,SAAS,OAAO;uCAEL,SAAS,OAAO"}},
    {"offset": {"line": 146, "column": 0}, "map": {"version":3,"sources":["file:///Users/weili/work/generate-web/store/slices/imageSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { GeneratedImage } from '@/types';\n\ninterface ImageState {\n  sourceImage: string | null;\n  mimeType: string;\n  prompt: string;\n  selectedStyle: string | null;\n  aspectRatio: string;\n  imageSize: '1K' | '2K' | '4K';\n  imageFormat: 'PNG' | 'JPEG' | 'WEBP';\n  resultImage: string | null;\n  history: GeneratedImage[];\n}\n\nconst initialState: ImageState = {\n  sourceImage: null,\n  mimeType: 'image/png',\n  prompt: '',\n  selectedStyle: null,\n  aspectRatio: '16:9',\n  imageSize: '1K',\n  imageFormat: 'PNG',\n  resultImage: null,\n  history: [],\n};\n\nconst imageSlice = createSlice({\n  name: 'image',\n  initialState,\n  reducers: {\n    setSourceImage: (state, action: PayloadAction<{ image: string; mimeType: string }>) => {\n      state.sourceImage = action.payload.image;\n      state.mimeType = action.payload.mimeType;\n    },\n    setPrompt: (state, action: PayloadAction<string>) => {\n      state.prompt = action.payload;\n    },\n    setSelectedStyle: (state, action: PayloadAction<string | null>) => {\n      state.selectedStyle = action.payload;\n    },\n    setAspectRatio: (state, action: PayloadAction<string>) => {\n      state.aspectRatio = action.payload;\n    },\n    setImageSize: (state, action: PayloadAction<'1K' | '2K' | '4K'>) => {\n      state.imageSize = action.payload;\n    },\n    setImageFormat: (state, action: PayloadAction<'PNG' | 'JPEG' | 'WEBP'>) => {\n      state.imageFormat = action.payload;\n    },\n    setResultImage: (state, action: PayloadAction<string | null>) => {\n      state.resultImage = action.payload;\n    },\n    addToHistory: (state, action: PayloadAction<GeneratedImage>) => {\n      state.history = [action.payload, ...state.history].slice(0, 10);\n    },\n    removeFromHistory: (state, action: PayloadAction<string>) => {\n      state.history = state.history.filter(item => item.id !== action.payload);\n    },\n    resetImageState: (state) => {\n      state.sourceImage = null;\n      state.prompt = '';\n      state.selectedStyle = null;\n      state.resultImage = null;\n    },\n  },\n});\n\nexport const {\n  setSourceImage,\n  setPrompt,\n  setSelectedStyle,\n  setAspectRatio,\n  setImageSize,\n  setImageFormat,\n  setResultImage,\n  addToHistory,\n  removeFromHistory,\n  resetImageState,\n} = imageSlice.actions;\n\nexport default imageSlice.reducer;\n\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAeA,MAAM,eAA2B;IAC/B,aAAa;IACb,UAAU;IACV,QAAQ;IACR,eAAe;IACf,aAAa;IACb,WAAW;IACX,aAAa;IACb,aAAa;IACb,SAAS,EAAE;AACb;AAEA,MAAM,aAAa,IAAA,qZAAW,EAAC;IAC7B,MAAM;IACN;IACA,UAAU;QACR,gBAAgB,CAAC,OAAO;YACtB,MAAM,WAAW,GAAG,OAAO,OAAO,CAAC,KAAK;YACxC,MAAM,QAAQ,GAAG,OAAO,OAAO,CAAC,QAAQ;QAC1C;QACA,WAAW,CAAC,OAAO;YACjB,MAAM,MAAM,GAAG,OAAO,OAAO;QAC/B;QACA,kBAAkB,CAAC,OAAO;YACxB,MAAM,aAAa,GAAG,OAAO,OAAO;QACtC;QACA,gBAAgB,CAAC,OAAO;YACtB,MAAM,WAAW,GAAG,OAAO,OAAO;QACpC;QACA,cAAc,CAAC,OAAO;YACpB,MAAM,SAAS,GAAG,OAAO,OAAO;QAClC;QACA,gBAAgB,CAAC,OAAO;YACtB,MAAM,WAAW,GAAG,OAAO,OAAO;QACpC;QACA,gBAAgB,CAAC,OAAO;YACtB,MAAM,WAAW,GAAG,OAAO,OAAO;QACpC;QACA,cAAc,CAAC,OAAO;YACpB,MAAM,OAAO,GAAG;gBAAC,OAAO,OAAO;mBAAK,MAAM,OAAO;aAAC,CAAC,KAAK,CAAC,GAAG;QAC9D;QACA,mBAAmB,CAAC,OAAO;YACzB,MAAM,OAAO,GAAG,MAAM,OAAO,CAAC,MAAM,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK,OAAO,OAAO;QACzE;QACA,iBAAiB,CAAC;YAChB,MAAM,WAAW,GAAG;YACpB,MAAM,MAAM,GAAG;YACf,MAAM,aAAa,GAAG;YACtB,MAAM,WAAW,GAAG;QACtB;IACF;AACF;AAEO,MAAM,EACX,cAAc,EACd,SAAS,EACT,gBAAgB,EAChB,cAAc,EACd,YAAY,EACZ,cAAc,EACd,cAAc,EACd,YAAY,EACZ,iBAAiB,EACjB,eAAe,EAChB,GAAG,WAAW,OAAO;uCAEP,WAAW,OAAO"}},
    {"offset": {"line": 235, "column": 0}, "map": {"version":3,"sources":["file:///Users/weili/work/generate-web/store/slices/memeSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { MemeDraft, AnimationType } from '@/types';\n\ninterface MemeState {\n  memeDrafts: MemeDraft[];\n  activeDraftIndex: number;\n  selectedMoodPack: string;\n  isExporting: boolean;\n}\n\nconst initialState: MemeState = {\n  memeDrafts: [],\n  activeDraftIndex: 0,\n  selectedMoodPack: 'custom',\n  isExporting: false,\n};\n\nconst memeSlice = createSlice({\n  name: 'meme',\n  initialState,\n  reducers: {\n    setMemeDrafts: (state, action: PayloadAction<MemeDraft[]>) => {\n      state.memeDrafts = action.payload;\n    },\n    updateMemeDraft: (state, action: PayloadAction<{ index: number; draft: Partial<MemeDraft> }>) => {\n      const { index, draft } = action.payload;\n      if (state.memeDrafts[index]) {\n        state.memeDrafts[index] = { ...state.memeDrafts[index], ...draft };\n      }\n    },\n    setActiveDraftIndex: (state, action: PayloadAction<number>) => {\n      state.activeDraftIndex = action.payload;\n    },\n    setSelectedMoodPack: (state, action: PayloadAction<string>) => {\n      state.selectedMoodPack = action.payload;\n    },\n    setIsExporting: (state, action: PayloadAction<boolean>) => {\n      state.isExporting = action.payload;\n    },\n  },\n});\n\nexport const {\n  setMemeDrafts,\n  updateMemeDraft,\n  setActiveDraftIndex,\n  setSelectedMoodPack,\n  setIsExporting,\n} = memeSlice.actions;\n\nexport default memeSlice.reducer;\n\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;;AAUA,MAAM,eAA0B;IAC9B,YAAY,EAAE;IACd,kBAAkB;IAClB,kBAAkB;IAClB,aAAa;AACf;AAEA,MAAM,YAAY,IAAA,qZAAW,EAAC;IAC5B,MAAM;IACN;IACA,UAAU;QACR,eAAe,CAAC,OAAO;YACrB,MAAM,UAAU,GAAG,OAAO,OAAO;QACnC;QACA,iBAAiB,CAAC,OAAO;YACvB,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,OAAO,OAAO;YACvC,IAAI,MAAM,UAAU,CAAC,MAAM,EAAE;gBAC3B,MAAM,UAAU,CAAC,MAAM,GAAG;oBAAE,GAAG,MAAM,UAAU,CAAC,MAAM;oBAAE,GAAG,KAAK;gBAAC;YACnE;QACF;QACA,qBAAqB,CAAC,OAAO;YAC3B,MAAM,gBAAgB,GAAG,OAAO,OAAO;QACzC;QACA,qBAAqB,CAAC,OAAO;YAC3B,MAAM,gBAAgB,GAAG,OAAO,OAAO;QACzC;QACA,gBAAgB,CAAC,OAAO;YACtB,MAAM,WAAW,GAAG,OAAO,OAAO;QACpC;IACF;AACF;AAEO,MAAM,EACX,aAAa,EACb,eAAe,EACf,mBAAmB,EACnB,mBAAmB,EACnB,cAAc,EACf,GAAG,UAAU,OAAO;uCAEN,UAAU,OAAO"}},
    {"offset": {"line": 293, "column": 0}, "map": {"version":3,"sources":["file:///Users/weili/work/generate-web/store/slices/userSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { UserTier, DailyUsage } from '@/types';\n\nexport enum UserStatus {\n  GUEST = 'GUEST', // 游客\n  LOGGED_IN = 'LOGGED_IN', // 已登录\n}\n\ninterface UserState {\n  status: UserStatus; // 用户状态：游客或已登录\n  userId: string | null; // 用户ID（登录后才有）\n  phone: string | null; // 手机号（登录后才有）\n  userTier: UserTier;\n  sceneUsage: DailyUsage; // 场景扩展使用量\n  memeUsage: DailyUsage; // 表情包制作使用量\n}\n\nconst initialState: UserState = {\n  status: UserStatus.GUEST,\n  userId: null,\n  phone: null,\n  userTier: UserTier.FREE,\n  sceneUsage: { date: new Date().toLocaleDateString(), count: 0 },\n  memeUsage: { date: new Date().toLocaleDateString(), count: 0 },\n};\n\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    setUserStatus: (state, action: PayloadAction<UserStatus>) => {\n      state.status = action.payload;\n    },\n    setUserId: (state, action: PayloadAction<string | null>) => {\n      state.userId = action.payload;\n    },\n    setUserPhone: (state, action: PayloadAction<string | null>) => {\n      state.phone = action.payload;\n    },\n    setUserTier: (state, action: PayloadAction<UserTier>) => {\n      state.userTier = action.payload;\n    },\n    setUserInfo: (state, action: PayloadAction<{ userId: string; phone: string; userTier: UserTier }>) => {\n      state.userId = action.payload.userId;\n      state.phone = action.payload.phone;\n      state.userTier = action.payload.userTier;\n      state.status = UserStatus.LOGGED_IN;\n    },\n    clearUserInfo: (state) => {\n      state.status = UserStatus.GUEST;\n      state.userId = null;\n      state.phone = null;\n      state.userTier = UserTier.FREE;\n      state.sceneUsage = { date: new Date().toLocaleDateString(), count: 0 };\n      state.memeUsage = { date: new Date().toLocaleDateString(), count: 0 };\n    },\n    setSceneUsage: (state, action: PayloadAction<DailyUsage>) => {\n      state.sceneUsage = action.payload;\n    },\n    setMemeUsage: (state, action: PayloadAction<DailyUsage>) => {\n      state.memeUsage = action.payload;\n    },\n    // 兼容旧代码，保留 dailyUsage（映射到 sceneUsage）\n    setDailyUsage: (state, action: PayloadAction<DailyUsage>) => {\n      state.sceneUsage = action.payload;\n    },\n    updateSceneUsage: (state, action: PayloadAction<number>) => {\n      const today = new Date().toLocaleDateString();\n      if (state.sceneUsage.date !== today) {\n        state.sceneUsage = { date: today, count: action.payload };\n      } else {\n        state.sceneUsage.count += action.payload;\n      }\n    },\n    updateMemeUsage: (state, action: PayloadAction<number>) => {\n      const today = new Date().toLocaleDateString();\n      if (state.memeUsage.date !== today) {\n        state.memeUsage = { date: today, count: action.payload };\n      } else {\n        state.memeUsage.count += action.payload;\n      }\n    },\n    // 兼容旧代码\n    updateUsage: (state, action: PayloadAction<number>) => {\n      const today = new Date().toLocaleDateString();\n      if (state.sceneUsage.date !== today) {\n        state.sceneUsage = { date: today, count: action.payload };\n      } else {\n        state.sceneUsage.count += action.payload;\n      }\n    },\n    resetDailyUsage: (state) => {\n      const today = new Date().toLocaleDateString();\n      if (state.sceneUsage.date !== today) {\n        state.sceneUsage = { date: today, count: 0 };\n      }\n      if (state.memeUsage.date !== today) {\n        state.memeUsage = { date: today, count: 0 };\n      }\n    },\n  },\n});\n\nexport const {\n  setUserStatus,\n  setUserId,\n  setUserPhone,\n  setUserTier,\n  setUserInfo,\n  clearUserInfo,\n  setSceneUsage,\n  setMemeUsage,\n  setDailyUsage,\n  updateSceneUsage,\n  updateMemeUsage,\n  updateUsage,\n  resetDailyUsage,\n} = userSlice.actions;\n\nexport default userSlice.reducer;\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 454, "column": 0}, "map": {"version":3,"sources":["file:///Users/weili/work/generate-web/store/store.ts"],"sourcesContent":["import { configureStore } from '@reduxjs/toolkit';\nimport appReducer from './slices/appSlice';\nimport imageReducer from './slices/imageSlice';\nimport memeReducer from './slices/memeSlice';\nimport userReducer from './slices/userSlice';\n\nexport const store = configureStore({\n  reducer: {\n    app: appReducer,\n    image: imageReducer,\n    meme: memeReducer,\n    user: userReducer,\n  },\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEO,MAAM,QAAQ,IAAA,wZAAc,EAAC;IAClC,SAAS;QACP,KAAK,yIAAU;QACf,OAAO,2IAAY;QACnB,MAAM,0IAAW;QACjB,MAAM,0IAAW;IACnB;AACF"}},
    {"offset": {"line": 483, "column": 0}, "map": {"version":3,"sources":["file:///Users/weili/work/generate-web/store/hooks.ts"],"sourcesContent":["import { useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from './store';\n\nexport const useAppDispatch = useDispatch.withTypes<AppDispatch>();\nexport const useAppSelector = useSelector.withTypes<RootState>();\n\n"],"names":[],"mappings":";;;;;;AAAA;;AAGO,MAAM,iBAAiB,oTAAW,CAAC,SAAS;AAC5C,MAAM,iBAAiB,oTAAW,CAAC,SAAS"}},
    {"offset": {"line": 500, "column": 0}, "map": {"version":3,"sources":["file:///Users/weili/work/generate-web/lib/cloud.ts"],"sourcesContent":["/**\n * 云函数调用封装（通过 Next.js API 路由）\n * 在服务端使用 wx-server-sdk 调用云函数\n */\n\n// API 基础路径\nconst API_BASE_URL = \"/api/cloud\";\n\n/**\n * 调用云函数（通过 Next.js API 路由）\n * @param name 云函数名称\n * @param data 传递给云函数的数据\n * @returns 云函数返回结果\n */\nexport const callCloudFunction = async (\n  name: string,\n  data: any = {}\n): Promise<any> => {\n  try {\n    const response = await fetch(`${API_BASE_URL}/${name}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(data),\n    });\n\n    if (!response.ok) {\n      const error = await response.json();\n      return {\n        success: 0,\n        message: error.message || `HTTP 请求失败: ${response.status}`,\n      };\n    }\n\n    const result = await response.json();\n\n    // 如果 API 返回的 success 不是 1，返回失败结果\n    if (result.success !== 1) {\n      return {\n        success: 0,\n        message: result.message || \"调用云函数失败\",\n      };\n    }\n\n    // 成功时返回包含 success: 1 的结果\n    return {\n      success: 1,\n      ...result,\n    };\n  } catch (error: any) {\n    console.error(`调用云函数 ${name} 失败:`, error);\n    return {\n      success: 0,\n      message: error.message || `调用云函数 ${name} 失败`,\n    };\n  }\n};\n"],"names":[],"mappings":"AAAA;;;CAGC,GAED,WAAW;;;;;AACX,MAAM,eAAe;AAQd,MAAM,oBAAoB,OAC/B,MACA,OAAY,CAAC,CAAC;IAEd,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,CAAC,EAAE,MAAM,EAAE;YACtD,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;QACvB;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,QAAQ,MAAM,SAAS,IAAI;YACjC,OAAO;gBACL,SAAS;gBACT,SAAS,MAAM,OAAO,IAAI,CAAC,WAAW,EAAE,SAAS,MAAM,EAAE;YAC3D;QACF;QAEA,MAAM,SAAS,MAAM,SAAS,IAAI;QAElC,iCAAiC;QACjC,IAAI,OAAO,OAAO,KAAK,GAAG;YACxB,OAAO;gBACL,SAAS;gBACT,SAAS,OAAO,OAAO,IAAI;YAC7B;QACF;QAEA,yBAAyB;QACzB,OAAO;YACL,SAAS;YACT,GAAG,MAAM;QACX;IACF,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,CAAC,MAAM,EAAE,KAAK,IAAI,CAAC,EAAE;QACnC,OAAO;YACL,SAAS;YACT,SAAS,MAAM,OAAO,IAAI,CAAC,MAAM,EAAE,KAAK,GAAG,CAAC;QAC9C;IACF;AACF"}},
    {"offset": {"line": 553, "column": 0}, "map": {"version":3,"sources":["file:///Users/weili/work/generate-web/lib/cookies.ts"],"sourcesContent":["/**\n * Cookie 工具函数\n * 用于持久化用户登录状态（只存储用户ID）\n */\n\nimport { getCookie, setCookie, deleteCookie } from 'cookies-next';\n\n// Cookie 键名\nconst USER_ID_KEY = 'ip_creative_user_id';\n\n// Cookie 选项（30天过期）\nconst COOKIE_OPTIONS = {\n  maxAge: 60 * 60 * 24 * 30, // 30天\n  path: '/',\n  sameSite: 'lax' as const,\n} as const;\n\n/**\n * 保存用户ID到 cookie\n */\nexport const setUserId = (userId: string) => {\n  setCookie(USER_ID_KEY, userId, COOKIE_OPTIONS);\n};\n\n/**\n * 从 cookie 获取用户ID\n */\nexport const getUserId = (): string | null => {\n  const userId = getCookie(USER_ID_KEY);\n  return userId ? String(userId) : null;\n};\n\n/**\n * 清除用户ID cookie\n */\nexport const clearUserId = () => {\n  deleteCookie(USER_ID_KEY);\n};\n\n/**\n * 检查用户是否已登录（通过 cookie）\n */\nexport const isAuthenticated = (): boolean => {\n  return !!getUserId();\n};\n\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;;;;;AAED;;AAEA,YAAY;AACZ,MAAM,cAAc;AAEpB,mBAAmB;AACnB,MAAM,iBAAiB;IACrB,QAAQ,KAAK,KAAK,KAAK;IACvB,MAAM;IACN,UAAU;AACZ;AAKO,MAAM,YAAY,CAAC;IACxB,IAAA,yXAAS,EAAC,aAAa,QAAQ;AACjC;AAKO,MAAM,YAAY;IACvB,MAAM,SAAS,IAAA,yXAAS,EAAC;IACzB,OAAO,SAAS,OAAO,UAAU;AACnC;AAKO,MAAM,cAAc;IACzB,IAAA,4XAAY,EAAC;AACf;AAKO,MAAM,kBAAkB;IAC7B,OAAO,CAAC,CAAC;AACX"}},
    {"offset": {"line": 596, "column": 0}, "map": {"version":3,"sources":["file:///Users/weili/work/generate-web/services/authService.ts"],"sourcesContent":["import { callCloudFunction } from \"@/lib/cloud\";\nimport {\n  setUserId,\n  clearUserId,\n  getUserId,\n  isAuthenticated as isAuthenticatedCookie,\n} from \"@/lib/cookies\";\nimport { getUserInfo } from \"@/services/userService\";\n\nexport interface LoginRequest {\n  phone: string;\n  password: string;\n}\n\nexport interface LoginResponse {\n  userId: string;\n  phone: string;\n  userTier: \"FREE\" | \"PREMIUM\";\n  token?: string;\n}\n\nexport interface RegisterRequest {\n  phone: string;\n  password: string;\n}\n\nexport interface RegisterResponse {\n  userId: string;\n  phone: string;\n  userTier: \"FREE\";\n  token?: string;\n}\n\n/**\n * 用户登录\n * @param phone 手机号\n * @param password 密码\n * @returns 登录响应\n */\nexport const login = async (\n  phone: string,\n  password: string\n): Promise<LoginResponse> => {\n  try {\n    const result = await callCloudFunction(\"auth\", {\n      action: \"login\",\n      phone,\n      password,\n    });\n    console.log(\"result\", result);\n\n    // 处理云函数返回结果（API 路由直接返回 { success, data }）\n    const response = result;\n\n    if (response.success !== 1) {\n      throw new Error(response.message || \"登录失败\");\n    }\n\n    const data = response.data;\n\n    // 只保存用户ID到 cookie（持久化登录态）\n    setUserId(data.userId);\n\n    return {\n      userId: data.userId,\n      phone: data.phone,\n      userTier: data.userTier,\n    };\n  } catch (error: any) {\n    console.error(\"Login error:\", error);\n    throw new Error(error.message || \"登录失败\");\n  }\n};\n\n/**\n * 用户注册\n * @param phone 手机号\n * @param password 密码\n * @returns 注册响应\n */\nexport const register = async (\n  phone: string,\n  password: string\n): Promise<RegisterResponse> => {\n  try {\n    const result = await callCloudFunction(\"auth\", {\n      action: \"register\",\n      phone,\n      password,\n    });\n\n    // 处理云函数返回结果（API 路由直接返回 { success, data }）\n    const response = result;\n\n    if (response.success !== 1) {\n      throw new Error(response.message || \"注册失败\");\n    }\n\n    const data = response.data;\n\n    // 只保存用户ID到 cookie（持久化登录态）\n    setUserId(data.userId);\n\n    return {\n      userId: data.userId,\n      phone: data.phone,\n      userTier: data.userTier,\n    };\n  } catch (error: any) {\n    console.error(\"Register error:\", error);\n    throw new Error(error.message || \"注册失败\");\n  }\n};\n\n/**\n * 用户登出\n */\nexport const logout = async (): Promise<void> => {\n  try {\n    // 微信云开发不需要服务端登出，直接清除 cookie 即可\n  } catch (error) {\n    console.error(\"Logout error:\", error);\n  } finally {\n    // 清除 cookie\n    clearUserId();\n    // 清除本地存储的使用次数（游客状态使用）\n    localStorage.removeItem(\"ip_creative_scene_usage\");\n    localStorage.removeItem(\"ip_creative_meme_usage\");\n  }\n};\n\n/**\n * 检查用户是否已登录\n * @returns 是否已登录\n */\nexport const isAuthenticated = (): boolean => {\n  return isAuthenticatedCookie();\n};\n\n/**\n * 获取当前用户ID\n * @returns 用户ID或null\n */\nexport const getCurrentUserId = (): string | null => {\n  return getUserId();\n};\n\n/**\n * 获取当前用户手机号\n * @returns 手机号或null\n */\nexport const getCurrentUserPhone = (): string | null => {\n  return getPhone();\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AACA;;;AAsCO,MAAM,QAAQ,OACnB,OACA;IAEA,IAAI;QACF,MAAM,SAAS,MAAM,IAAA,oIAAiB,EAAC,QAAQ;YAC7C,QAAQ;YACR;YACA;QACF;QACA,QAAQ,GAAG,CAAC,UAAU;QAEtB,0CAA0C;QAC1C,MAAM,WAAW;QAEjB,IAAI,SAAS,OAAO,KAAK,GAAG;YAC1B,MAAM,IAAI,MAAM,SAAS,OAAO,IAAI;QACtC;QAEA,MAAM,OAAO,SAAS,IAAI;QAE1B,0BAA0B;QAC1B,IAAA,8HAAS,EAAC,KAAK,MAAM;QAErB,OAAO;YACL,QAAQ,KAAK,MAAM;YACnB,OAAO,KAAK,KAAK;YACjB,UAAU,KAAK,QAAQ;QACzB;IACF,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,gBAAgB;QAC9B,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;IACnC;AACF;AAQO,MAAM,WAAW,OACtB,OACA;IAEA,IAAI;QACF,MAAM,SAAS,MAAM,IAAA,oIAAiB,EAAC,QAAQ;YAC7C,QAAQ;YACR;YACA;QACF;QAEA,0CAA0C;QAC1C,MAAM,WAAW;QAEjB,IAAI,SAAS,OAAO,KAAK,GAAG;YAC1B,MAAM,IAAI,MAAM,SAAS,OAAO,IAAI;QACtC;QAEA,MAAM,OAAO,SAAS,IAAI;QAE1B,0BAA0B;QAC1B,IAAA,8HAAS,EAAC,KAAK,MAAM;QAErB,OAAO;YACL,QAAQ,KAAK,MAAM;YACnB,OAAO,KAAK,KAAK;YACjB,UAAU,KAAK,QAAQ;QACzB;IACF,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,mBAAmB;QACjC,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;IACnC;AACF;AAKO,MAAM,SAAS;IACpB,IAAI;IACF,+BAA+B;IACjC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,iBAAiB;IACjC,SAAU;QACR,YAAY;QACZ,IAAA,gIAAW;QACX,sBAAsB;QACtB,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;IAC1B;AACF;AAMO,MAAM,kBAAkB;IAC7B,OAAO,IAAA,oIAAqB;AAC9B;AAMO,MAAM,mBAAmB;IAC9B,OAAO,IAAA,8HAAS;AAClB;AAMO,MAAM,sBAAsB;IACjC,OAAO;AACT"}},
    {"offset": {"line": 694, "column": 0}, "map": {"version":3,"sources":["file:///Users/weili/work/generate-web/services/userService.ts"],"sourcesContent":["import { UserTier, DailyUsage } from \"@/types\";\nimport { callCloudFunction } from \"@/lib/cloud\";\nimport { getUserId } from \"@/lib/cookies\";\n\nexport interface UserInfo {\n  userId?: string;\n  userTier: UserTier;\n  sceneUsage: DailyUsage;\n  memeUsage: DailyUsage;\n}\n\n/**\n * 获取用户信息（包括使用次数）\n * @param userId 用户ID（可选，如果不提供则从 localStorage 或 cookie 获取）\n * @returns 用户信息\n */\nexport const getUserInfo = async (userId?: string): Promise<UserInfo> => {\n  try {\n    // 如果没有提供 userId，尝试从 cookie 获取\n    const storedUserId = userId || getUserId();\n\n    if (!storedUserId) {\n      return {\n        userTier: UserTier.FREE,\n        sceneUsage: { date: new Date().toLocaleDateString(), count: 0 },\n        memeUsage: { date: new Date().toLocaleDateString(), count: 0 },\n      };\n    }\n\n    const result = await callCloudFunction(\"user\", {\n      action: \"getInfo\",\n      userId: storedUserId,\n    });\n\n    // 处理云函数返回结果（API 路由直接返回 { success, data }）\n    const response = result;\n\n    if (response.success !== 1) {\n      if (response.message === \"用户不存在\") {\n        return {\n          userTier: UserTier.FREE,\n          sceneUsage: { date: new Date().toLocaleDateString(), count: 0 },\n          memeUsage: { date: new Date().toLocaleDateString(), count: 0 },\n        };\n      }\n      throw new Error(response.message || \"获取用户信息失败\");\n    }\n\n    const data = response.data;\n\n    return {\n      userId: data.userId,\n      userTier: data.userTier || UserTier.FREE,\n      sceneUsage: data.sceneUsage || {\n        date: new Date().toLocaleDateString(),\n        count: 0,\n      },\n      memeUsage: data.memeUsage || {\n        date: new Date().toLocaleDateString(),\n        count: 0,\n      },\n    };\n  } catch (error) {\n    console.error(\"Get user info error:\", error);\n    // 返回默认值而不是抛出错误，确保应用可以继续运行\n    return {\n      userTier: UserTier.FREE,\n      sceneUsage: { date: new Date().toLocaleDateString(), count: 0 },\n      memeUsage: { date: new Date().toLocaleDateString(), count: 0 },\n    };\n  }\n};\n\n/**\n * 更新场景扩展使用次数\n * @param userId 用户ID\n * @param increment 增加的数量（默认为 1）\n * @returns 更新后的使用次数\n */\nexport const updateSceneUsage = async (\n  userId: string,\n  increment: number = 1\n): Promise<DailyUsage> => {\n  try {\n    const result = await callCloudFunction(\"user\", {\n      action: \"updateSceneUsage\",\n      userId,\n      increment,\n    });\n\n    // 处理云函数返回结果（API 路由直接返回 { success, data }）\n    const response = result;\n\n    if (response.success !== 1) {\n      throw new Error(response.message || \"更新场景扩展使用次数失败\");\n    }\n\n    return response.data.sceneUsage;\n  } catch (error: any) {\n    console.error(\"Update scene usage error:\", error);\n    throw new Error(error.message || \"更新场景扩展使用次数失败\");\n  }\n};\n\n/**\n * 更新表情包制作使用次数\n * @param userId 用户ID\n * @param increment 增加的数量（默认为 1）\n * @returns 更新后的使用次数\n */\nexport const updateMemeUsage = async (\n  userId: string,\n  increment: number = 1\n): Promise<DailyUsage> => {\n  try {\n    const result = await callCloudFunction(\"user\", {\n      action: \"updateMemeUsage\",\n      userId,\n      increment,\n    });\n\n    // 处理云函数返回结果（API 路由直接返回 { success, data }）\n    const response = result;\n\n    if (response.success !== 1) {\n      throw new Error(response.message || \"更新表情包制作使用次数失败\");\n    }\n\n    return response.data.memeUsage;\n  } catch (error: any) {\n    console.error(\"Update meme usage error:\", error);\n    throw new Error(error.message || \"更新表情包制作使用次数失败\");\n  }\n};\n\n/**\n * 更新用户会员等级\n * @param userId 用户ID\n * @param userTier 新的会员等级\n * @returns 更新后的用户信息\n */\nexport const updateUserTier = async (\n  userId: string,\n  userTier: UserTier\n): Promise<UserInfo> => {\n  try {\n    const result = await callCloudFunction(\"user\", {\n      action: \"updateTier\",\n      userId,\n      userTier,\n    });\n\n    // 处理云函数返回结果（API 路由直接返回 { success, data }）\n    const response = result;\n\n    if (response.success !== 1) {\n      throw new Error(response.message || \"更新会员等级失败\");\n    }\n\n    const data = response.data;\n    return {\n      userId: data.userId,\n      userTier: data.userTier,\n      sceneUsage: data.sceneUsage,\n      memeUsage: data.memeUsage,\n    };\n  } catch (error: any) {\n    console.error(\"Update user tier error:\", error);\n    throw new Error(error.message || \"更新会员等级失败\");\n  }\n};\n\n/**\n * 创建或初始化用户\n * @returns 用户信息\n */\nexport const createOrInitUser = async (): Promise<UserInfo> => {\n  try {\n    // 通过 API 路由调用（如果需要实现初始化功能）\n    const result = await callCloudFunction(\"user\", {\n      action: \"init\",\n    });\n\n    const response = result;\n\n    if (response.success !== 1) {\n      throw new Error(response.message || \"初始化用户失败\");\n    }\n\n    const data = response.data;\n\n    // 保存 userId 到 cookie（如果需要）\n    if (data.userId) {\n      const { setUserId } = await import(\"@/lib/cookies\");\n      setUserId(data.userId);\n    }\n\n    return {\n      userId: data.userId,\n      userTier: data.userTier || UserTier.FREE,\n      sceneUsage: data.sceneUsage || {\n        date: new Date().toLocaleDateString(),\n        count: 0,\n      },\n      memeUsage: data.memeUsage || {\n        date: new Date().toLocaleDateString(),\n        count: 0,\n      },\n    };\n  } catch (error: any) {\n    console.error(\"Create or init user error:\", error);\n    throw new Error(error.message || \"初始化用户失败\");\n  }\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 880, "column": 0}, "map": {"version":3,"sources":["file:///Users/weili/work/generate-web/app/providers/ReduxProvider.tsx"],"sourcesContent":["'use client';\n\nimport { Provider } from 'react-redux';\nimport { store } from '@/store/store';\nimport { useEffect } from 'react';\nimport { useAppDispatch, useAppSelector } from '@/store/hooks';\nimport { setUserTier, setSceneUsage, setMemeUsage, setUserStatus, setUserInfo } from '@/store/slices/userSlice';\nimport { addToHistory } from '@/store/slices/imageSlice';\nimport { UserTier, DailyUsage } from '@/types';\nimport { UserStatus } from '@/store/slices/userSlice';\nimport { isAuthenticated, getCurrentUserId, getCurrentUserPhone } from '@/services/authService';\nimport { getUserInfo } from '@/services/userService';\nimport { getUserTier } from '@/lib/cookies';\n\nconst USER_TIER_KEY = 'ip_creative_user_tier';\nconst SCENE_USAGE_KEY = 'ip_creative_scene_usage';\nconst MEME_USAGE_KEY = 'ip_creative_meme_usage';\nconst STORAGE_KEY = 'ip_creative_history_v1';\n\n// 初始化 Redux state 的组件\nfunction ReduxInitializer() {\n  const dispatch = useAppDispatch();\n  const userTier = useAppSelector((state) => state.user.userTier);\n  const sceneUsage = useAppSelector((state) => state.user.sceneUsage);\n  const memeUsage = useAppSelector((state) => state.user.memeUsage);\n  const history = useAppSelector((state) => state.image.history);\n\n\n  // 从 localStorage 和 API 加载初始状态\n  useEffect(() => {\n    const initUser = async () => {\n      // 检查是否已登录\n      if (isAuthenticated()) {\n        const userId = getCurrentUserId();\n        const phone = getCurrentUserPhone();\n        const savedTier = (getUserTier() || localStorage.getItem(USER_TIER_KEY)) as UserTier;\n        \n        if (userId) {\n          try {\n            // 从后端获取用户信息（包括使用次数）\n            const userInfo = await getUserInfo(userId);\n            dispatch(setUserInfo({\n              userId: userInfo.userId || userId,\n              phone: phone || '',\n              userTier: userInfo.userTier || savedTier || UserTier.FREE,\n            }));\n            dispatch(setSceneUsage(userInfo.sceneUsage));\n            dispatch(setMemeUsage(userInfo.memeUsage));\n          } catch (error) {\n            console.error('Failed to load user info from API:', error);\n            // 如果 API 失败，使用本地存储的数据\n            if (savedTier && (savedTier === UserTier.FREE || savedTier === UserTier.PREMIUM)) {\n              dispatch(setUserTier(savedTier));\n            }\n            dispatch(setUserStatus(UserStatus.LOGGED_IN));\n          }\n        }\n      } else {\n        // 游客状态\n        dispatch(setUserStatus(UserStatus.GUEST));\n        \n        // 加载游客的使用量（从 localStorage）\n        const savedSceneUsage = localStorage.getItem(SCENE_USAGE_KEY);\n        if (savedSceneUsage) {\n          try {\n            const usage = JSON.parse(savedSceneUsage);\n            dispatch(setSceneUsage(usage));\n          } catch (e) {\n            console.error('Failed to load scene usage', e);\n          }\n        }\n\n        const savedMemeUsage = localStorage.getItem(MEME_USAGE_KEY);\n        if (savedMemeUsage) {\n          try {\n            const usage = JSON.parse(savedMemeUsage);\n            dispatch(setMemeUsage(usage));\n          } catch (e) {\n            console.error('Failed to load meme usage', e);\n          }\n        }\n      }\n    };\n\n    initUser();\n\n    // 加载历史记录\n    const savedHistory = localStorage.getItem(STORAGE_KEY);\n    if (savedHistory) {\n      try {\n        const historyItems = JSON.parse(savedHistory);\n        historyItems.forEach((item: any) => {\n          dispatch(addToHistory(item));\n        });\n      } catch (e) {\n        console.error('Failed to load history', e);\n      }\n    }\n  }, [dispatch]);\n\n  const userStatus = useAppSelector((state) => state.user.status);\n  \n  // 同步状态到 localStorage（仅同步游客的使用次数，登录用户的使用次数由后端管理）\n  useEffect(() => {\n    localStorage.setItem(USER_TIER_KEY, userTier);\n  }, [userTier]);\n\n  useEffect(() => {\n    // 只有游客状态才保存到 localStorage，登录用户的使用次数由后端管理\n    if (userStatus === UserStatus.GUEST) {\n      localStorage.setItem(SCENE_USAGE_KEY, JSON.stringify(sceneUsage));\n    }\n  }, [sceneUsage, userStatus]);\n\n  useEffect(() => {\n    // 只有游客状态才保存到 localStorage，登录用户的使用次数由后端管理\n    if (userStatus === UserStatus.GUEST) {\n      localStorage.setItem(MEME_USAGE_KEY, JSON.stringify(memeUsage));\n    }\n  }, [memeUsage, userStatus]);\n\n  useEffect(() => {\n    if (history.length > 0) {\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(history));\n    }\n  }, [history]);\n\n  // 检查并重置每日使用量\n  useEffect(() => {\n    const today = new Date().toLocaleDateString();\n    if (sceneUsage.date !== today) {\n      dispatch(setSceneUsage({ date: today, count: 0 }));\n    }\n    if (memeUsage.date !== today) {\n      dispatch(setMemeUsage({ date: today, count: 0 }));\n    }\n  }, []);\n\n  return null;\n}\n\nexport default function ReduxProvider({ children }: { children: React.ReactNode }) {\n  return (\n    <Provider store={store}>\n      <ReduxInitializer />\n      {children}\n    </Provider>\n  );\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1104, "column": 0}, "map": {"version":3,"sources":["file:///Users/weili/work/generate-web/components/TabBar.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { Home, PlusCircle, User, Wand2 } from 'lucide-react';\n\nconst TabBar: React.FC = () => {\n  const pathname = usePathname();\n  const isHome = pathname === '/';\n  const isCreate = pathname === '/create' || pathname === '/upload';\n  const isProfile = pathname === '/profile' || pathname === '/me';\n\n  return (\n    <>\n      {/* Mobile Bottom TabBar */}\n      <div className=\"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 pb-safe-area shadow-lg z-50 h-16 flex items-center justify-around px-6 md:hidden\">\n        <Link\n          href=\"/\"\n          className={`flex flex-col items-center justify-center space-y-1 ${\n            isHome ? 'text-violet-600' : 'text-gray-400'\n          }`}\n        >\n          <Home size={24} strokeWidth={isHome ? 2.5 : 2} />\n          <span className=\"text-[10px] font-medium\">首页</span>\n        </Link>\n\n        <Link\n          href=\"/create\"\n          className=\"flex flex-col items-center justify-center -mt-6\"\n        >\n          <div className=\"bg-violet-600 text-white p-3 rounded-full shadow-violet-200 shadow-xl transform transition-transform active:scale-95\">\n              <PlusCircle size={32} />\n          </div>\n          <span className=\"text-[10px] font-medium text-gray-600 mt-1\">创作</span>\n        </Link>\n\n        <Link\n          href=\"/profile\"\n          className={`flex flex-col items-center justify-center space-y-1 ${\n            isProfile ? 'text-violet-600' : 'text-gray-400'\n          }`}\n        >\n          <User size={24} strokeWidth={isProfile ? 2.5 : 2} />\n          <span className=\"text-[10px] font-medium\">我的</span>\n        </Link>\n      </div>\n\n      {/* PC Top Navigation */}\n      <div className=\"hidden md:flex fixed top-0 left-0 right-0 bg-white border-b border-gray-100 shadow-sm z-50 h-16 items-center justify-between px-8\">\n        <Link href=\"/\" className=\"flex items-center gap-2 text-violet-600 hover:text-violet-700 transition-colors\">\n          <Wand2 size={24} />\n          <span className=\"font-bold text-lg\">IP 创想坊</span>\n        </Link>\n        \n        <nav className=\"flex items-center gap-1\">\n          <Link\n            href=\"/\"\n            className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n              isHome\n                ? 'bg-violet-50 text-violet-600'\n                : 'text-gray-600 hover:bg-gray-50'\n            }`}\n          >\n            <div className=\"flex items-center gap-2\">\n              <Home size={18} />\n              <span>首页</span>\n            </div>\n          </Link>\n\n          <Link\n            href=\"/create\"\n            className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n              isCreate\n                ? 'bg-violet-50 text-violet-600'\n                : 'text-gray-600 hover:bg-gray-50'\n            }`}\n          >\n            <div className=\"flex items-center gap-2\">\n              <PlusCircle size={18} />\n              <span>创作</span>\n            </div>\n          </Link>\n\n          <Link\n            href=\"/profile\"\n            className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n              isProfile\n                ? 'bg-violet-50 text-violet-600'\n                : 'text-gray-600 hover:bg-gray-50'\n            }`}\n          >\n            <div className=\"flex items-center gap-2\">\n              <User size={18} />\n              <span>我的</span>\n            </div>\n          </Link>\n        </nav>\n      </div>\n    </>\n  );\n};\n\nexport default TabBar;"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AAAA;AAAA;AAAA;;;AALA;;;;AAOA,MAAM,SAAmB;;IACvB,MAAM,WAAW,IAAA,qTAAW;IAC5B,MAAM,SAAS,aAAa;IAC5B,MAAM,WAAW,aAAa,aAAa,aAAa;IACxD,MAAM,YAAY,aAAa,cAAc,aAAa;IAE1D,qBACE;;0BAEE,8VAAC;gBAAI,WAAU;;kCACb,8VAAC,2UAAI;wBACH,MAAK;wBACL,WAAW,CAAC,oDAAoD,EAC9D,SAAS,oBAAoB,iBAC7B;;0CAEF,8VAAC,kSAAI;gCAAC,MAAM;gCAAI,aAAa,SAAS,MAAM;;;;;;0CAC5C,8VAAC;gCAAK,WAAU;0CAA0B;;;;;;;;;;;;kCAG5C,8VAAC,2UAAI;wBACH,MAAK;wBACL,WAAU;;0CAEV,8VAAC;gCAAI,WAAU;0CACX,cAAA,8VAAC,uTAAU;oCAAC,MAAM;;;;;;;;;;;0CAEtB,8VAAC;gCAAK,WAAU;0CAA6C;;;;;;;;;;;;kCAG/D,8VAAC,2UAAI;wBACH,MAAK;wBACL,WAAW,CAAC,oDAAoD,EAC9D,YAAY,oBAAoB,iBAChC;;0CAEF,8VAAC,iSAAI;gCAAC,MAAM;gCAAI,aAAa,YAAY,MAAM;;;;;;0CAC/C,8VAAC;gCAAK,WAAU;0CAA0B;;;;;;;;;;;;;;;;;;0BAK9C,8VAAC;gBAAI,WAAU;;kCACb,8VAAC,2UAAI;wBAAC,MAAK;wBAAI,WAAU;;0CACvB,8VAAC,+SAAK;gCAAC,MAAM;;;;;;0CACb,8VAAC;gCAAK,WAAU;0CAAoB;;;;;;;;;;;;kCAGtC,8VAAC;wBAAI,WAAU;;0CACb,8VAAC,2UAAI;gCACH,MAAK;gCACL,WAAW,CAAC,2DAA2D,EACrE,SACI,iCACA,kCACJ;0CAEF,cAAA,8VAAC;oCAAI,WAAU;;sDACb,8VAAC,kSAAI;4CAAC,MAAM;;;;;;sDACZ,8VAAC;sDAAK;;;;;;;;;;;;;;;;;0CAIV,8VAAC,2UAAI;gCACH,MAAK;gCACL,WAAW,CAAC,2DAA2D,EACrE,WACI,iCACA,kCACJ;0CAEF,cAAA,8VAAC;oCAAI,WAAU;;sDACb,8VAAC,uTAAU;4CAAC,MAAM;;;;;;sDAClB,8VAAC;sDAAK;;;;;;;;;;;;;;;;;0CAIV,8VAAC,2UAAI;gCACH,MAAK;gCACL,WAAW,CAAC,2DAA2D,EACrE,YACI,iCACA,kCACJ;0CAEF,cAAA,8VAAC;oCAAI,WAAU;;sDACb,8VAAC,iSAAI;4CAAC,MAAM;;;;;;sDACZ,8VAAC;sDAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOpB;GA9FM;;QACa,qTAAW;;;KADxB;uCAgGS"}},
    {"offset": {"line": 1377, "column": 0}, "map": {"version":3,"sources":["file:///Users/weili/work/generate-web/app/components/TabBarWrapper.tsx"],"sourcesContent":["'use client';\n\nimport { usePathname } from 'next/navigation';\nimport TabBar from '@/components/TabBar';\n\nexport default function TabBarWrapper() {\n  const pathname = usePathname();\n  \n  // 不在这些页面显示 TabBar\n  const hiddenPaths = ['/result', '/edit'];\n  if (hiddenPaths.includes(pathname)) {\n    return null;\n  }\n\n  return <TabBar />;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS;;IACtB,MAAM,WAAW,IAAA,qTAAW;IAE5B,kBAAkB;IAClB,MAAM,cAAc;QAAC;QAAW;KAAQ;IACxC,IAAI,YAAY,QAAQ,CAAC,WAAW;QAClC,OAAO;IACT;IAEA,qBAAO,8VAAC,mIAAM;;;;;AAChB;GAVwB;;QACL,qTAAW;;;KADN"}}]
}