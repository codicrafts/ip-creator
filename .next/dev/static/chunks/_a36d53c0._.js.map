{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/weili/work/generate-web/store/hooks.ts"],"sourcesContent":["import { useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from './store';\n\nexport const useAppDispatch = useDispatch.withTypes<AppDispatch>();\nexport const useAppSelector = useSelector.withTypes<RootState>();\n\n"],"names":[],"mappings":";;;;;;AAAA;;AAGO,MAAM,iBAAiB,oTAAW,CAAC,SAAS;AAC5C,MAAM,iBAAiB,oTAAW,CAAC,SAAS"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///Users/weili/work/generate-web/types.ts"],"sourcesContent":["export enum AppView {\n  HOME = 'HOME',\n  UPLOAD = 'UPLOAD',\n  EDIT = 'EDIT',\n  RESULT = 'RESULT',\n  PROFILE = 'PROFILE',\n  MEME_EDITOR = 'MEME_EDITOR'\n}\n\nexport interface GeneratedImage {\n  id: string; // Added unique ID\n  url: string;\n  timestamp: number;\n  prompt: string;\n  style?: string; // Optional style info\n}\n\nexport enum LoadingState {\n  IDLE = 'IDLE',\n  UPLOADING = 'UPLOADING',\n  GENERATING = 'GENERATING',\n  ERROR = 'ERROR',\n  SUCCESS = 'SUCCESS'\n}\n\nexport enum UserTier {\n  FREE = 'FREE',\n  PREMIUM = 'PREMIUM'\n}\n\nexport interface DailyUsage {\n  date: string; // YYYY-MM-DD\n  count: number;\n}\n\nexport enum AnimationType {\n  NONE = 'none',\n  SHAKE = 'shake',\n  PULSE = 'pulse',\n  ZOOM = 'zoom',\n  SPIN = 'spin'\n}\n\nexport interface MemeDraft {\n  id: string;\n  sourceUrl: string;\n  generatedUrl: string | null;\n  text: string; // The text overlay\n  moodPrompt: string; // e.g., \"laughing out loud\"\n  status: 'pending' | 'generating' | 'done' | 'error';\n  animation: AnimationType;\n}\n\n// Payment Types\nexport enum PaymentMethod {\n  WECHAT = 'WECHAT',\n  ALIPAY = 'ALIPAY'\n}\n\nexport enum PaymentStatus {\n  PENDING = 'PENDING',\n  SUCCESS = 'SUCCESS',\n  FAILED = 'FAILED',\n  CANCELLED = 'CANCELLED'\n}\n\nexport interface PaymentOrder {\n  orderId: string;\n  amount: number; // 金额（分）\n  productName: string;\n  productDesc?: string;\n  paymentMethod: PaymentMethod;\n  status: PaymentStatus;\n  createdAt: number;\n  paidAt?: number;\n}\n\nexport interface CreateOrderRequest {\n  amount: number; // 金额（分）\n  productName: string;\n  productDesc?: string;\n  paymentMethod: PaymentMethod;\n  userId?: string;\n}\n\nexport interface CreateOrderResponse {\n  orderId: string;\n  paymentParams: WechatPaymentParams | AlipayPaymentParams;\n}\n\n// 微信支付参数\nexport interface WechatPaymentParams {\n  appId: string;\n  timeStamp: string;\n  nonceStr: string;\n  package: string; // prepay_id=xxx\n  signType: string;\n  paySign: string;\n}\n\n// 支付宝支付参数\nexport interface AlipayPaymentParams {\n  orderString: string; // 支付宝订单字符串\n}"],"names":[],"mappings":";;;;;;;;;;;;;;AAAO,IAAA,AAAK,iCAAA;;;;;;;WAAA;;AAiBL,IAAA,AAAK,sCAAA;;;;;;WAAA;;AAQL,IAAA,AAAK,kCAAA;;;WAAA;;AAUL,IAAA,AAAK,uCAAA;;;;;;WAAA;;AAmBL,IAAA,AAAK,uCAAA;;;WAAA;;AAKL,IAAA,AAAK,uCAAA;;;;;WAAA"}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///Users/weili/work/generate-web/store/slices/userSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { UserTier, DailyUsage } from '@/types';\n\nexport enum UserStatus {\n  GUEST = 'GUEST', // 游客\n  LOGGED_IN = 'LOGGED_IN', // 已登录\n}\n\ninterface UserState {\n  status: UserStatus; // 用户状态：游客或已登录\n  userId: string | null; // 用户ID（登录后才有）\n  phone: string | null; // 手机号（登录后才有）\n  userTier: UserTier;\n  sceneUsage: DailyUsage; // 场景扩展使用量\n  memeUsage: DailyUsage; // 表情包制作使用量\n}\n\nconst initialState: UserState = {\n  status: UserStatus.GUEST,\n  userId: null,\n  phone: null,\n  userTier: UserTier.FREE,\n  sceneUsage: { date: new Date().toLocaleDateString(), count: 0 },\n  memeUsage: { date: new Date().toLocaleDateString(), count: 0 },\n};\n\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    setUserStatus: (state, action: PayloadAction<UserStatus>) => {\n      state.status = action.payload;\n    },\n    setUserId: (state, action: PayloadAction<string | null>) => {\n      state.userId = action.payload;\n    },\n    setUserPhone: (state, action: PayloadAction<string | null>) => {\n      state.phone = action.payload;\n    },\n    setUserTier: (state, action: PayloadAction<UserTier>) => {\n      state.userTier = action.payload;\n    },\n    setUserInfo: (state, action: PayloadAction<{ userId: string; phone: string; userTier: UserTier }>) => {\n      state.userId = action.payload.userId;\n      state.phone = action.payload.phone;\n      state.userTier = action.payload.userTier;\n      state.status = UserStatus.LOGGED_IN;\n    },\n    clearUserInfo: (state) => {\n      state.status = UserStatus.GUEST;\n      state.userId = null;\n      state.phone = null;\n      state.userTier = UserTier.FREE;\n      state.sceneUsage = { date: new Date().toLocaleDateString(), count: 0 };\n      state.memeUsage = { date: new Date().toLocaleDateString(), count: 0 };\n    },\n    setSceneUsage: (state, action: PayloadAction<DailyUsage>) => {\n      state.sceneUsage = action.payload;\n    },\n    setMemeUsage: (state, action: PayloadAction<DailyUsage>) => {\n      state.memeUsage = action.payload;\n    },\n    // 兼容旧代码，保留 dailyUsage（映射到 sceneUsage）\n    setDailyUsage: (state, action: PayloadAction<DailyUsage>) => {\n      state.sceneUsage = action.payload;\n    },\n    updateSceneUsage: (state, action: PayloadAction<number>) => {\n      const today = new Date().toLocaleDateString();\n      if (state.sceneUsage.date !== today) {\n        state.sceneUsage = { date: today, count: action.payload };\n      } else {\n        state.sceneUsage.count += action.payload;\n      }\n    },\n    updateMemeUsage: (state, action: PayloadAction<number>) => {\n      const today = new Date().toLocaleDateString();\n      if (state.memeUsage.date !== today) {\n        state.memeUsage = { date: today, count: action.payload };\n      } else {\n        state.memeUsage.count += action.payload;\n      }\n    },\n    // 兼容旧代码\n    updateUsage: (state, action: PayloadAction<number>) => {\n      const today = new Date().toLocaleDateString();\n      if (state.sceneUsage.date !== today) {\n        state.sceneUsage = { date: today, count: action.payload };\n      } else {\n        state.sceneUsage.count += action.payload;\n      }\n    },\n    resetDailyUsage: (state) => {\n      const today = new Date().toLocaleDateString();\n      if (state.sceneUsage.date !== today) {\n        state.sceneUsage = { date: today, count: 0 };\n      }\n      if (state.memeUsage.date !== today) {\n        state.memeUsage = { date: today, count: 0 };\n      }\n    },\n  },\n});\n\nexport const {\n  setUserStatus,\n  setUserId,\n  setUserPhone,\n  setUserTier,\n  setUserInfo,\n  clearUserInfo,\n  setSceneUsage,\n  setMemeUsage,\n  setDailyUsage,\n  updateSceneUsage,\n  updateMemeUsage,\n  updateUsage,\n  resetDailyUsage,\n} = userSlice.actions;\n\nexport default userSlice.reducer;\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":["file:///Users/weili/work/generate-web/store/slices/imageSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { GeneratedImage } from '@/types';\n\ninterface ImageState {\n  sourceImage: string | null;\n  mimeType: string;\n  prompt: string;\n  selectedStyle: string | null;\n  aspectRatio: string;\n  imageSize: '1K' | '2K' | '4K';\n  imageFormat: 'PNG' | 'JPEG' | 'WEBP';\n  resultImage: string | null;\n  history: GeneratedImage[];\n}\n\nconst initialState: ImageState = {\n  sourceImage: null,\n  mimeType: 'image/png',\n  prompt: '',\n  selectedStyle: null,\n  aspectRatio: '16:9',\n  imageSize: '1K',\n  imageFormat: 'PNG',\n  resultImage: null,\n  history: [],\n};\n\nconst imageSlice = createSlice({\n  name: 'image',\n  initialState,\n  reducers: {\n    setSourceImage: (state, action: PayloadAction<{ image: string; mimeType: string }>) => {\n      state.sourceImage = action.payload.image;\n      state.mimeType = action.payload.mimeType;\n    },\n    setPrompt: (state, action: PayloadAction<string>) => {\n      state.prompt = action.payload;\n    },\n    setSelectedStyle: (state, action: PayloadAction<string | null>) => {\n      state.selectedStyle = action.payload;\n    },\n    setAspectRatio: (state, action: PayloadAction<string>) => {\n      state.aspectRatio = action.payload;\n    },\n    setImageSize: (state, action: PayloadAction<'1K' | '2K' | '4K'>) => {\n      state.imageSize = action.payload;\n    },\n    setImageFormat: (state, action: PayloadAction<'PNG' | 'JPEG' | 'WEBP'>) => {\n      state.imageFormat = action.payload;\n    },\n    setResultImage: (state, action: PayloadAction<string | null>) => {\n      state.resultImage = action.payload;\n    },\n    addToHistory: (state, action: PayloadAction<GeneratedImage>) => {\n      state.history = [action.payload, ...state.history].slice(0, 10);\n    },\n    removeFromHistory: (state, action: PayloadAction<string>) => {\n      state.history = state.history.filter(item => item.id !== action.payload);\n    },\n    resetImageState: (state) => {\n      state.sourceImage = null;\n      state.prompt = '';\n      state.selectedStyle = null;\n      state.resultImage = null;\n    },\n  },\n});\n\nexport const {\n  setSourceImage,\n  setPrompt,\n  setSelectedStyle,\n  setAspectRatio,\n  setImageSize,\n  setImageFormat,\n  setResultImage,\n  addToHistory,\n  removeFromHistory,\n  resetImageState,\n} = imageSlice.actions;\n\nexport default imageSlice.reducer;\n\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAeA,MAAM,eAA2B;IAC/B,aAAa;IACb,UAAU;IACV,QAAQ;IACR,eAAe;IACf,aAAa;IACb,WAAW;IACX,aAAa;IACb,aAAa;IACb,SAAS,EAAE;AACb;AAEA,MAAM,aAAa,IAAA,qZAAW,EAAC;IAC7B,MAAM;IACN;IACA,UAAU;QACR,gBAAgB,CAAC,OAAO;YACtB,MAAM,WAAW,GAAG,OAAO,OAAO,CAAC,KAAK;YACxC,MAAM,QAAQ,GAAG,OAAO,OAAO,CAAC,QAAQ;QAC1C;QACA,WAAW,CAAC,OAAO;YACjB,MAAM,MAAM,GAAG,OAAO,OAAO;QAC/B;QACA,kBAAkB,CAAC,OAAO;YACxB,MAAM,aAAa,GAAG,OAAO,OAAO;QACtC;QACA,gBAAgB,CAAC,OAAO;YACtB,MAAM,WAAW,GAAG,OAAO,OAAO;QACpC;QACA,cAAc,CAAC,OAAO;YACpB,MAAM,SAAS,GAAG,OAAO,OAAO;QAClC;QACA,gBAAgB,CAAC,OAAO;YACtB,MAAM,WAAW,GAAG,OAAO,OAAO;QACpC;QACA,gBAAgB,CAAC,OAAO;YACtB,MAAM,WAAW,GAAG,OAAO,OAAO;QACpC;QACA,cAAc,CAAC,OAAO;YACpB,MAAM,OAAO,GAAG;gBAAC,OAAO,OAAO;mBAAK,MAAM,OAAO;aAAC,CAAC,KAAK,CAAC,GAAG;QAC9D;QACA,mBAAmB,CAAC,OAAO;YACzB,MAAM,OAAO,GAAG,MAAM,OAAO,CAAC,MAAM,CAAC,CAAA,OAAQ,KAAK,EAAE,KAAK,OAAO,OAAO;QACzE;QACA,iBAAiB,CAAC;YAChB,MAAM,WAAW,GAAG;YACpB,MAAM,MAAM,GAAG;YACf,MAAM,aAAa,GAAG;YACtB,MAAM,WAAW,GAAG;QACtB;IACF;AACF;AAEO,MAAM,EACX,cAAc,EACd,SAAS,EACT,gBAAgB,EAChB,cAAc,EACd,YAAY,EACZ,cAAc,EACd,cAAc,EACd,YAAY,EACZ,iBAAiB,EACjB,eAAe,EAChB,GAAG,WAAW,OAAO;uCAEP,WAAW,OAAO"}},
    {"offset": {"line": 334, "column": 0}, "map": {"version":3,"sources":["file:///Users/weili/work/generate-web/app/providers/ReduxProvider.tsx"],"sourcesContent":["'use client';\n\nimport { Provider } from 'react-redux';\nimport { makeStore } from '@/store/store';\nimport { useEffect, useRef } from 'react';\nimport { useAppDispatch, useAppSelector } from '@/store/hooks';\nimport { setUserTier, setSceneUsage, setMemeUsage, setUserStatus, setUserInfo } from '@/store/slices/userSlice';\nimport { addToHistory } from '@/store/slices/imageSlice';\nimport { UserTier, DailyUsage } from '@/types';\nimport { UserStatus, UserState } from '@/store/slices/userSlice';\n\nconst SCENE_USAGE_KEY = 'ip_creative_scene_usage';\nconst MEME_USAGE_KEY = 'ip_creative_meme_usage';\nconst STORAGE_KEY = 'ip_creative_history_v1';\n\ninterface ReduxProviderProps {\n  children: React.ReactNode;\n  initialUserState?: Partial<UserState>;\n}\n\n// 初始化 Redux state 的组件\nfunction ReduxInitializer({ initialUserState }: { initialUserState?: Partial<UserState> }) {\n  const dispatch = useAppDispatch();\n  const userTier = useAppSelector((state) => state.user.userTier);\n  const sceneUsage = useAppSelector((state) => state.user.sceneUsage);\n  const memeUsage = useAppSelector((state) => state.user.memeUsage);\n  const history = useAppSelector((state) => state.image.history);\n  const initialized = useRef(false);\n\n  // 使用 SSR 传入的初始状态\n  useEffect(() => {\n    if (initialized.current) return;\n    initialized.current = true;\n\n    if (initialUserState) {\n      // 设置用户信息\n      if (initialUserState.userId) {\n        dispatch(setUserInfo({\n          userId: initialUserState.userId,\n          phone: initialUserState.phone || '',\n          userTier: initialUserState.userTier || UserTier.FREE,\n        }));\n        dispatch(setSceneUsage(initialUserState.sceneUsage || { date: new Date().toLocaleDateString(), count: 0 }));\n        dispatch(setMemeUsage(initialUserState.memeUsage || { date: new Date().toLocaleDateString(), count: 0 }));\n      } else {\n        // 游客状态\n        dispatch(setUserStatus(UserStatus.GUEST));\n        \n        // 加载游客的使用量（从 localStorage）\n        const savedSceneUsage = localStorage.getItem(SCENE_USAGE_KEY);\n        if (savedSceneUsage) {\n          try {\n            const usage = JSON.parse(savedSceneUsage);\n            dispatch(setSceneUsage(usage));\n          } catch (e) {\n            console.error('Failed to load scene usage', e);\n          }\n        }\n\n        const savedMemeUsage = localStorage.getItem(MEME_USAGE_KEY);\n        if (savedMemeUsage) {\n          try {\n            const usage = JSON.parse(savedMemeUsage);\n            dispatch(setMemeUsage(usage));\n          } catch (e) {\n            console.error('Failed to load meme usage', e);\n          }\n        }\n      }\n    }\n\n    // 加载历史记录\n    const savedHistory = localStorage.getItem(STORAGE_KEY);\n    if (savedHistory) {\n      try {\n        const historyItems = JSON.parse(savedHistory);\n        historyItems.forEach((item: any) => {\n          dispatch(addToHistory(item));\n        });\n      } catch (e) {\n        console.error('Failed to load history', e);\n      }\n    }\n  }, [dispatch, initialUserState]);\n\n  const userStatus = useAppSelector((state) => state.user.status);\n  \n  // 同步状态到 localStorage（仅同步游客的使用次数，登录用户的使用次数由后端管理）\n  useEffect(() => {\n    localStorage.setItem(USER_TIER_KEY, userTier);\n  }, [userTier]);\n\n  useEffect(() => {\n    // 只有游客状态才保存到 localStorage，登录用户的使用次数由后端管理\n    if (userStatus === UserStatus.GUEST) {\n      localStorage.setItem(SCENE_USAGE_KEY, JSON.stringify(sceneUsage));\n    }\n  }, [sceneUsage, userStatus]);\n\n  useEffect(() => {\n    // 只有游客状态才保存到 localStorage，登录用户的使用次数由后端管理\n    if (userStatus === UserStatus.GUEST) {\n      localStorage.setItem(MEME_USAGE_KEY, JSON.stringify(memeUsage));\n    }\n  }, [memeUsage, userStatus]);\n\n  useEffect(() => {\n    if (history.length > 0) {\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(history));\n    }\n  }, [history]);\n\n  // 检查并重置每日使用量\n  useEffect(() => {\n    const today = new Date().toLocaleDateString();\n    if (sceneUsage.date !== today) {\n      dispatch(setSceneUsage({ date: today, count: 0 }));\n    }\n    if (memeUsage.date !== today) {\n      dispatch(setMemeUsage({ date: today, count: 0 }));\n    }\n  }, []);\n\n  return null;\n}\n\nexport default function ReduxProvider({ children }: { children: React.ReactNode }) {\n  return (\n    <Provider store={store}>\n      <ReduxInitializer />\n      {children}\n    </Provider>\n  );\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 540, "column": 0}, "map": {"version":3,"sources":["file:///Users/weili/work/generate-web/components/TabBar.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { Home, PlusCircle, User, Wand2 } from 'lucide-react';\n\nconst TabBar: React.FC = () => {\n  const pathname = usePathname();\n  const isHome = pathname === '/';\n  const isCreate = pathname === '/create' || pathname === '/upload';\n  const isProfile = pathname === '/profile' || pathname === '/me';\n\n  return (\n    <>\n      {/* Mobile Bottom TabBar */}\n      <div className=\"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 pb-safe-area shadow-lg z-50 h-16 flex items-center justify-around px-6 md:hidden\">\n        <Link\n          href=\"/\"\n          className={`flex flex-col items-center justify-center space-y-1 ${\n            isHome ? 'text-violet-600' : 'text-gray-400'\n          }`}\n        >\n          <Home size={24} strokeWidth={isHome ? 2.5 : 2} />\n          <span className=\"text-[10px] font-medium\">首页</span>\n        </Link>\n\n        <Link\n          href=\"/create\"\n          className=\"flex flex-col items-center justify-center -mt-6\"\n        >\n          <div className=\"bg-violet-600 text-white p-3 rounded-full shadow-violet-200 shadow-xl transform transition-transform active:scale-95\">\n              <PlusCircle size={32} />\n          </div>\n          <span className=\"text-[10px] font-medium text-gray-600 mt-1\">创作</span>\n        </Link>\n\n        <Link\n          href=\"/profile\"\n          className={`flex flex-col items-center justify-center space-y-1 ${\n            isProfile ? 'text-violet-600' : 'text-gray-400'\n          }`}\n        >\n          <User size={24} strokeWidth={isProfile ? 2.5 : 2} />\n          <span className=\"text-[10px] font-medium\">我的</span>\n        </Link>\n      </div>\n\n      {/* PC Top Navigation */}\n      <div className=\"hidden md:flex fixed top-0 left-0 right-0 bg-white border-b border-gray-100 shadow-sm z-50 h-16 items-center justify-between px-8\">\n        <Link href=\"/\" className=\"flex items-center gap-2 text-violet-600 hover:text-violet-700 transition-colors\">\n          <Wand2 size={24} />\n          <span className=\"font-bold text-lg\">IP 创想坊</span>\n        </Link>\n        \n        <nav className=\"flex items-center gap-1\">\n          <Link\n            href=\"/\"\n            className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n              isHome\n                ? 'bg-violet-50 text-violet-600'\n                : 'text-gray-600 hover:bg-gray-50'\n            }`}\n          >\n            <div className=\"flex items-center gap-2\">\n              <Home size={18} />\n              <span>首页</span>\n            </div>\n          </Link>\n\n          <Link\n            href=\"/create\"\n            className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n              isCreate\n                ? 'bg-violet-50 text-violet-600'\n                : 'text-gray-600 hover:bg-gray-50'\n            }`}\n          >\n            <div className=\"flex items-center gap-2\">\n              <PlusCircle size={18} />\n              <span>创作</span>\n            </div>\n          </Link>\n\n          <Link\n            href=\"/profile\"\n            className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n              isProfile\n                ? 'bg-violet-50 text-violet-600'\n                : 'text-gray-600 hover:bg-gray-50'\n            }`}\n          >\n            <div className=\"flex items-center gap-2\">\n              <User size={18} />\n              <span>我的</span>\n            </div>\n          </Link>\n        </nav>\n      </div>\n    </>\n  );\n};\n\nexport default TabBar;"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AAAA;AAAA;AAAA;;;AALA;;;;AAOA,MAAM,SAAmB;;IACvB,MAAM,WAAW,IAAA,qTAAW;IAC5B,MAAM,SAAS,aAAa;IAC5B,MAAM,WAAW,aAAa,aAAa,aAAa;IACxD,MAAM,YAAY,aAAa,cAAc,aAAa;IAE1D,qBACE;;0BAEE,8VAAC;gBAAI,WAAU;;kCACb,8VAAC,2UAAI;wBACH,MAAK;wBACL,WAAW,CAAC,oDAAoD,EAC9D,SAAS,oBAAoB,iBAC7B;;0CAEF,8VAAC,kSAAI;gCAAC,MAAM;gCAAI,aAAa,SAAS,MAAM;;;;;;0CAC5C,8VAAC;gCAAK,WAAU;0CAA0B;;;;;;;;;;;;kCAG5C,8VAAC,2UAAI;wBACH,MAAK;wBACL,WAAU;;0CAEV,8VAAC;gCAAI,WAAU;0CACX,cAAA,8VAAC,uTAAU;oCAAC,MAAM;;;;;;;;;;;0CAEtB,8VAAC;gCAAK,WAAU;0CAA6C;;;;;;;;;;;;kCAG/D,8VAAC,2UAAI;wBACH,MAAK;wBACL,WAAW,CAAC,oDAAoD,EAC9D,YAAY,oBAAoB,iBAChC;;0CAEF,8VAAC,iSAAI;gCAAC,MAAM;gCAAI,aAAa,YAAY,MAAM;;;;;;0CAC/C,8VAAC;gCAAK,WAAU;0CAA0B;;;;;;;;;;;;;;;;;;0BAK9C,8VAAC;gBAAI,WAAU;;kCACb,8VAAC,2UAAI;wBAAC,MAAK;wBAAI,WAAU;;0CACvB,8VAAC,+SAAK;gCAAC,MAAM;;;;;;0CACb,8VAAC;gCAAK,WAAU;0CAAoB;;;;;;;;;;;;kCAGtC,8VAAC;wBAAI,WAAU;;0CACb,8VAAC,2UAAI;gCACH,MAAK;gCACL,WAAW,CAAC,2DAA2D,EACrE,SACI,iCACA,kCACJ;0CAEF,cAAA,8VAAC;oCAAI,WAAU;;sDACb,8VAAC,kSAAI;4CAAC,MAAM;;;;;;sDACZ,8VAAC;sDAAK;;;;;;;;;;;;;;;;;0CAIV,8VAAC,2UAAI;gCACH,MAAK;gCACL,WAAW,CAAC,2DAA2D,EACrE,WACI,iCACA,kCACJ;0CAEF,cAAA,8VAAC;oCAAI,WAAU;;sDACb,8VAAC,uTAAU;4CAAC,MAAM;;;;;;sDAClB,8VAAC;sDAAK;;;;;;;;;;;;;;;;;0CAIV,8VAAC,2UAAI;gCACH,MAAK;gCACL,WAAW,CAAC,2DAA2D,EACrE,YACI,iCACA,kCACJ;0CAEF,cAAA,8VAAC;oCAAI,WAAU;;sDACb,8VAAC,iSAAI;4CAAC,MAAM;;;;;;sDACZ,8VAAC;sDAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOpB;GA9FM;;QACa,qTAAW;;;KADxB;uCAgGS"}},
    {"offset": {"line": 813, "column": 0}, "map": {"version":3,"sources":["file:///Users/weili/work/generate-web/app/components/TabBarWrapper.tsx"],"sourcesContent":["'use client';\n\nimport { usePathname } from 'next/navigation';\nimport TabBar from '@/components/TabBar';\n\nexport default function TabBarWrapper() {\n  const pathname = usePathname();\n  \n  // 不在这些页面显示 TabBar\n  const hiddenPaths = ['/result', '/edit'];\n  if (hiddenPaths.includes(pathname)) {\n    return null;\n  }\n\n  return <TabBar />;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS;;IACtB,MAAM,WAAW,IAAA,qTAAW;IAE5B,kBAAkB;IAClB,MAAM,cAAc;QAAC;QAAW;KAAQ;IACxC,IAAI,YAAY,QAAQ,CAAC,WAAW;QAClC,OAAO;IACT;IAEA,qBAAO,8VAAC,mIAAM;;;;;AAChB;GAVwB;;QACL,qTAAW;;;KADN"}}]
}